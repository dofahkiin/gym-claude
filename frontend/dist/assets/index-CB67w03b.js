function Zf(i,a){for(var c=0;c<a.length;c++){const f=a[c];if(typeof f!="string"&&!Array.isArray(f)){for(const d in f)if(d!=="default"&&!(d in i)){const p=Object.getOwnPropertyDescriptor(f,d);p&&Object.defineProperty(i,d,p.get?p:{enumerable:!0,get:()=>f[d]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function c(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(d){if(d.ep)return;d.ep=!0;const p=c(d);fetch(d.href,p)}})();const ep="/gym/".replace(/\/$/,""),tp=`${ep||""}/service-worker.js`;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(tp).then(i=>console.log("Service Worker registered with scope:",i.scope)).catch(i=>console.error("Service Worker registration failed:",i))});window.addEventListener("DOMContentLoaded",()=>{document.addEventListener("reactLoaded",()=>{const i=document.getElementById("app-shell");i&&(i.style.display="none")})});function Au(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ii={exports:{}},Kn={},ai={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu;function rp(){if(mu)return he;mu=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.iterator;function D(y){return y===null||typeof y!="object"?null:(y=P&&y[P]||y["@@iterator"],typeof y=="function"?y:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,b={};function _(y,C,T){this.props=y,this.context=C,this.refs=b,this.updater=T||V}_.prototype.isReactComponent={},_.prototype.setState=function(y,C){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,C,"setState")},_.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function ne(){}ne.prototype=_.prototype;function U(y,C,T){this.props=y,this.context=C,this.refs=b,this.updater=T||V}var X=U.prototype=new ne;X.constructor=U,J(X,_.prototype),X.isPureReactComponent=!0;var se=Array.isArray,ge=Object.prototype.hasOwnProperty,xe={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function H(y,C,T){var A,Q={},K=null,B=null;if(C!=null)for(A in C.ref!==void 0&&(B=C.ref),C.key!==void 0&&(K=""+C.key),C)ge.call(C,A)&&!Z.hasOwnProperty(A)&&(Q[A]=C[A]);var R=arguments.length-2;if(R===1)Q.children=T;else if(1<R){for(var Y=Array(R),de=0;de<R;de++)Y[de]=arguments[de+2];Q.children=Y}if(y&&y.defaultProps)for(A in R=y.defaultProps,R)Q[A]===void 0&&(Q[A]=R[A]);return{$$typeof:i,type:y,key:K,ref:B,props:Q,_owner:xe.current}}function pe(y,C){return{$$typeof:i,type:y.type,key:C,ref:y.ref,props:y.props,_owner:y._owner}}function ue(y){return typeof y=="object"&&y!==null&&y.$$typeof===i}function me(y){var C={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(T){return C[T]})}var oe=/\/+/g;function ae(y,C){return typeof y=="object"&&y!==null&&y.key!=null?me(""+y.key):C.toString(36)}function fe(y,C,T,A,Q){var K=typeof y;(K==="undefined"||K==="boolean")&&(y=null);var B=!1;if(y===null)B=!0;else switch(K){case"string":case"number":B=!0;break;case"object":switch(y.$$typeof){case i:case a:B=!0}}if(B)return B=y,Q=Q(B),y=A===""?"."+ae(B,0):A,se(Q)?(T="",y!=null&&(T=y.replace(oe,"$&/")+"/"),fe(Q,C,T,"",function(de){return de})):Q!=null&&(ue(Q)&&(Q=pe(Q,T+(!Q.key||B&&B.key===Q.key?"":(""+Q.key).replace(oe,"$&/")+"/")+y)),C.push(Q)),1;if(B=0,A=A===""?".":A+":",se(y))for(var R=0;R<y.length;R++){K=y[R];var Y=A+ae(K,R);B+=fe(K,C,T,Y,Q)}else if(Y=D(y),typeof Y=="function")for(y=Y.call(y),R=0;!(K=y.next()).done;)K=K.value,Y=A+ae(K,R++),B+=fe(K,C,T,Y,Q);else if(K==="object")throw C=String(y),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return B}function Ee(y,C,T){if(y==null)return y;var A=[],Q=0;return fe(y,A,"","",function(K){return C.call(T,K,Q++)}),A}function ke(y){if(y._status===-1){var C=y._result;C=C(),C.then(function(T){(y._status===0||y._status===-1)&&(y._status=1,y._result=T)},function(T){(y._status===0||y._status===-1)&&(y._status=2,y._result=T)}),y._status===-1&&(y._status=0,y._result=C)}if(y._status===1)return y._result.default;throw y._result}var Se={current:null},L={transition:null},F={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:L,ReactCurrentOwner:xe};function z(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:Ee,forEach:function(y,C,T){Ee(y,function(){C.apply(this,arguments)},T)},count:function(y){var C=0;return Ee(y,function(){C++}),C},toArray:function(y){return Ee(y,function(C){return C})||[]},only:function(y){if(!ue(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},he.Component=_,he.Fragment=c,he.Profiler=d,he.PureComponent=U,he.StrictMode=f,he.Suspense=x,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,he.act=z,he.cloneElement=function(y,C,T){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var A=J({},y.props),Q=y.key,K=y.ref,B=y._owner;if(C!=null){if(C.ref!==void 0&&(K=C.ref,B=xe.current),C.key!==void 0&&(Q=""+C.key),y.type&&y.type.defaultProps)var R=y.type.defaultProps;for(Y in C)ge.call(C,Y)&&!Z.hasOwnProperty(Y)&&(A[Y]=C[Y]===void 0&&R!==void 0?R[Y]:C[Y])}var Y=arguments.length-2;if(Y===1)A.children=T;else if(1<Y){R=Array(Y);for(var de=0;de<Y;de++)R[de]=arguments[de+2];A.children=R}return{$$typeof:i,type:y.type,key:Q,ref:K,props:A,_owner:B}},he.createContext=function(y){return y={$$typeof:g,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},y.Provider={$$typeof:p,_context:y},y.Consumer=y},he.createElement=H,he.createFactory=function(y){var C=H.bind(null,y);return C.type=y,C},he.createRef=function(){return{current:null}},he.forwardRef=function(y){return{$$typeof:k,render:y}},he.isValidElement=ue,he.lazy=function(y){return{$$typeof:N,_payload:{_status:-1,_result:y},_init:ke}},he.memo=function(y,C){return{$$typeof:I,type:y,compare:C===void 0?null:C}},he.startTransition=function(y){var C=L.transition;L.transition={};try{y()}finally{L.transition=C}},he.unstable_act=z,he.useCallback=function(y,C){return Se.current.useCallback(y,C)},he.useContext=function(y){return Se.current.useContext(y)},he.useDebugValue=function(){},he.useDeferredValue=function(y){return Se.current.useDeferredValue(y)},he.useEffect=function(y,C){return Se.current.useEffect(y,C)},he.useId=function(){return Se.current.useId()},he.useImperativeHandle=function(y,C,T){return Se.current.useImperativeHandle(y,C,T)},he.useInsertionEffect=function(y,C){return Se.current.useInsertionEffect(y,C)},he.useLayoutEffect=function(y,C){return Se.current.useLayoutEffect(y,C)},he.useMemo=function(y,C){return Se.current.useMemo(y,C)},he.useReducer=function(y,C,T){return Se.current.useReducer(y,C,T)},he.useRef=function(y){return Se.current.useRef(y)},he.useState=function(y){return Se.current.useState(y)},he.useSyncExternalStore=function(y,C,T){return Se.current.useSyncExternalStore(y,C,T)},he.useTransition=function(){return Se.current.useTransition()},he.version="18.3.1",he}var hu;function yi(){return hu||(hu=1,ai.exports=rp()),ai.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function np(){if(gu)return Kn;gu=1;var i=yi(),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(k,x,I){var N,P={},D=null,V=null;I!==void 0&&(D=""+I),x.key!==void 0&&(D=""+x.key),x.ref!==void 0&&(V=x.ref);for(N in x)f.call(x,N)&&!p.hasOwnProperty(N)&&(P[N]=x[N]);if(k&&k.defaultProps)for(N in x=k.defaultProps,x)P[N]===void 0&&(P[N]=x[N]);return{$$typeof:a,type:k,key:D,ref:V,props:P,_owner:d.current}}return Kn.Fragment=c,Kn.jsx=g,Kn.jsxs=g,Kn}var yu;function sp(){return yu||(yu=1,ii.exports=np()),ii.exports}var l=sp(),w=yi();const Wu=Au(w),op=Zf({__proto__:null,default:Wu},[w]);var fo={},ci={exports:{}},at={},ui={exports:{}},di={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu;function lp(){return vu||(vu=1,(function(i){function a(L,F){var z=L.length;L.push(F);e:for(;0<z;){var y=z-1>>>1,C=L[y];if(0<d(C,F))L[y]=F,L[z]=C,z=y;else break e}}function c(L){return L.length===0?null:L[0]}function f(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var y=0,C=L.length,T=C>>>1;y<T;){var A=2*(y+1)-1,Q=L[A],K=A+1,B=L[K];if(0>d(Q,z))K<C&&0>d(B,Q)?(L[y]=B,L[K]=z,y=K):(L[y]=Q,L[A]=z,y=A);else if(K<C&&0>d(B,z))L[y]=B,L[K]=z,y=K;else break e}}return F}function d(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var g=Date,k=g.now();i.unstable_now=function(){return g.now()-k}}var x=[],I=[],N=1,P=null,D=3,V=!1,J=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(L){for(var F=c(I);F!==null;){if(F.callback===null)f(I);else if(F.startTime<=L)f(I),F.sortIndex=F.expirationTime,a(x,F);else break;F=c(I)}}function se(L){if(b=!1,X(L),!J)if(c(x)!==null)J=!0,ke(ge);else{var F=c(I);F!==null&&Se(se,F.startTime-L)}}function ge(L,F){J=!1,b&&(b=!1,ne(H),H=-1),V=!0;var z=D;try{for(X(F),P=c(x);P!==null&&(!(P.expirationTime>F)||L&&!me());){var y=P.callback;if(typeof y=="function"){P.callback=null,D=P.priorityLevel;var C=y(P.expirationTime<=F);F=i.unstable_now(),typeof C=="function"?P.callback=C:P===c(x)&&f(x),X(F)}else f(x);P=c(x)}if(P!==null)var T=!0;else{var A=c(I);A!==null&&Se(se,A.startTime-F),T=!1}return T}finally{P=null,D=z,V=!1}}var xe=!1,Z=null,H=-1,pe=5,ue=-1;function me(){return!(i.unstable_now()-ue<pe)}function oe(){if(Z!==null){var L=i.unstable_now();ue=L;var F=!0;try{F=Z(!0,L)}finally{F?ae():(xe=!1,Z=null)}}else xe=!1}var ae;if(typeof U=="function")ae=function(){U(oe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ee=fe.port2;fe.port1.onmessage=oe,ae=function(){Ee.postMessage(null)}}else ae=function(){_(oe,0)};function ke(L){Z=L,xe||(xe=!0,ae())}function Se(L,F){H=_(function(){L(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){J||V||(J=!0,ke(ge))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return c(x)},i.unstable_next=function(L){switch(D){case 1:case 2:case 3:var F=3;break;default:F=D}var z=D;D=F;try{return L()}finally{D=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=D;D=L;try{return F()}finally{D=z}},i.unstable_scheduleCallback=function(L,F,z){var y=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?y+z:y):z=y,L){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=z+C,L={id:N++,callback:F,priorityLevel:L,startTime:z,expirationTime:C,sortIndex:-1},z>y?(L.sortIndex=z,a(I,L),c(x)===null&&L===c(I)&&(b?(ne(H),H=-1):b=!0,Se(se,z-y))):(L.sortIndex=C,a(x,L),J||V||(J=!0,ke(ge))),L},i.unstable_shouldYield=me,i.unstable_wrapCallback=function(L){var F=D;return function(){var z=D;D=F;try{return L.apply(this,arguments)}finally{D=z}}}})(di)),di}var xu;function ip(){return xu||(xu=1,ui.exports=lp()),ui.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu;function ap(){if(wu)return at;wu=1;var i=yi(),a=ip();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,d={};function p(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(d[e]=t,e=0;e<t.length;e++)f.add(t[e])}var k=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},P={};function D(e){return x.call(P,e)?!0:x.call(N,e)?!1:I.test(e)?P[e]=!0:(N[e]=!0,!1)}function V(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J(e,t,r,n){if(t===null||typeof t>"u"||V(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,r,n,s,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ne,U);_[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ne,U);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ne,U);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function X(e,t,r,n){var s=_.hasOwnProperty(t)?_[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J(t,r,s,n)&&(r=null),n||s===null?D(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),xe=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),me=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),L=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,y;function C(e){if(y===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);y=t&&t[1]||""}return`
`+y+e}var T=!1;function A(e,t){if(!e||T)return"";T=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(E){var n=E}Reflect.construct(e,[],t)}else{try{t.call()}catch(E){n=E}e.call(t.prototype)}else{try{throw Error()}catch(E){n=E}e()}}catch(E){if(E&&n&&typeof E.stack=="string"){for(var s=E.stack.split(`
`),o=n.stack.split(`
`),u=s.length-1,m=o.length-1;1<=u&&0<=m&&s[u]!==o[m];)m--;for(;1<=u&&0<=m;u--,m--)if(s[u]!==o[m]){if(u!==1||m!==1)do if(u--,m--,0>m||s[u]!==o[m]){var h=`
`+s[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=m);break}}}finally{T=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?C(e):""}function Q(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=A(e.type,!1),e;case 11:return e=A(e.type.render,!1),e;case 1:return e=A(e.type,!0),e;default:return""}}function K(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case xe:return"Portal";case pe:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case me:return(e.displayName||"Context")+".Consumer";case ue:return(e._context.displayName||"Context")+".Provider";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ee:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function R(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function de(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pe(e){e._valueTracker||(e._valueTracker=de(e))}function ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function je(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ie(e,t){var r=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rt(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=R(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rr(e,t){t=t.checked,t!=null&&X(e,"checked",t,!1)}function Rt(e,t){Rr(e,t);var r=R(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vt(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vt(e,t.type,R(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vt(e,t,r){(t!=="number"||je(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gr=Array.isArray;function zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+R(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ji(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(c(92));if(gr(r)){if(1<r.length)throw Error(c(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:R(r)}}function Ei(e,t){var r=R(t.value),n=R(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ci(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _i(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_i(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Pi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function un(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rd=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(e){rd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dn[t]=dn[e]})});function Ti(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dn.hasOwnProperty(e)&&dn[e]?(""+t).trim():t+"px"}function Li(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ti(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var nd=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(e,t){if(t){if(nd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Dr=null,Or=null;function Ii(e){if(e=zn(e)){if(typeof No!="function")throw Error(c(280));var t=e.stateNode;t&&(t=Cs(t),No(e.stateNode,e.type,t))}}function Ri(e){Dr?Or?Or.push(e):Or=[e]:Dr=e}function zi(){if(Dr){var e=Dr,t=Or;if(Or=Dr=null,Ii(e),t)for(e=0;e<t.length;e++)Ii(t[e])}}function Di(e,t){return e(t)}function Oi(){}var jo=!1;function Mi(e,t,r){if(jo)return e(t,r);jo=!0;try{return Di(e,t,r)}finally{jo=!1,(Dr!==null||Or!==null)&&(Oi(),zi())}}function fn(e,t){var r=e.stateNode;if(r===null)return null;var n=Cs(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(c(231,t,typeof r));return r}var Eo=!1;if(k)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Eo=!1}function sd(e,t,r,n,s,o,u,m,h){var E=Array.prototype.slice.call(arguments,3);try{t.apply(r,E)}catch(M){this.onError(M)}}var mn=!1,ss=null,os=!1,Co=null,od={onError:function(e){mn=!0,ss=e}};function ld(e,t,r,n,s,o,u,m,h){mn=!1,ss=null,sd.apply(od,arguments)}function id(e,t,r,n,s,o,u,m,h){if(ld.apply(this,arguments),mn){if(mn){var E=ss;mn=!1,ss=null}else throw Error(c(198));os||(os=!0,Co=E)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Fi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bi(e){if(yr(e)!==e)throw Error(c(188))}function ad(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(c(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Bi(s),e;if(o===n)return Bi(s),t;o=o.sibling}throw Error(c(188))}if(r.return!==n.return)r=s,n=o;else{for(var u=!1,m=s.child;m;){if(m===r){u=!0,r=s,n=o;break}if(m===n){u=!0,n=s,r=o;break}m=m.sibling}if(!u){for(m=o.child;m;){if(m===r){u=!0,r=o,n=s;break}if(m===n){u=!0,n=o,r=s;break}m=m.sibling}if(!u)throw Error(c(189))}}if(r.alternate!==n)throw Error(c(190))}if(r.tag!==3)throw Error(c(188));return r.stateNode.current===r?e:t}function $i(e){return e=ad(e),e!==null?Ai(e):null}function Ai(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ai(e);if(t!==null)return t;e=e.sibling}return null}var Wi=a.unstable_scheduleCallback,bi=a.unstable_cancelCallback,cd=a.unstable_shouldYield,ud=a.unstable_requestPaint,Me=a.unstable_now,dd=a.unstable_getCurrentPriorityLevel,_o=a.unstable_ImmediatePriority,Ui=a.unstable_UserBlockingPriority,ls=a.unstable_NormalPriority,fd=a.unstable_LowPriority,Vi=a.unstable_IdlePriority,is=null,_t=null;function pd(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:gd,md=Math.log,hd=Math.LN2;function gd(e){return e>>>=0,e===0?32:31-(md(e)/hd|0)|0}var as=64,cs=4194304;function hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function us(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,u=r&268435455;if(u!==0){var m=u&~s;m!==0?n=hn(m):(o&=u,o!==0&&(n=hn(o)))}else u=r&~s,u!==0?n=hn(u):o!==0&&(n=hn(o));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wt(t),s=1<<r,n|=e[r],t&=~s;return n}function yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-wt(o),m=1<<u,h=s[u];h===-1?((m&r)===0||(m&n)!==0)&&(s[u]=yd(m,t)):h<=t&&(e.expiredLanes|=m),o&=~m}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hi(){var e=as;return as<<=1,(as&4194240)===0&&(as=64),e}function To(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function xd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Lo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ce=0;function Ji(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Qi,Io,Ki,Yi,Gi,Ro=!1,ds=[],Ht=null,Jt=null,Qt=null,yn=new Map,vn=new Map,Kt=[],wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xi(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":yn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(t.pointerId)}}function xn(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=zn(t),t!==null&&Io(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kd(e,t,r,n,s){switch(t){case"focusin":return Ht=xn(Ht,e,t,r,n,s),!0;case"dragenter":return Jt=xn(Jt,e,t,r,n,s),!0;case"mouseover":return Qt=xn(Qt,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return yn.set(o,xn(yn.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,vn.set(o,xn(vn.get(o)||null,e,t,r,n,s)),!0}return!1}function qi(e){var t=vr(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=Fi(r),t!==null){e.blockedOn=t,Gi(e.priority,function(){Ki(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Do(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ko=n,r.target.dispatchEvent(n),ko=null}else return t=zn(r),t!==null&&Io(t),e.blockedOn=r,!1;t.shift()}return!0}function Zi(e,t,r){fs(e)&&r.delete(t)}function Sd(){Ro=!1,Ht!==null&&fs(Ht)&&(Ht=null),Jt!==null&&fs(Jt)&&(Jt=null),Qt!==null&&fs(Qt)&&(Qt=null),yn.forEach(Zi),vn.forEach(Zi)}function wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ro||(Ro=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Sd)))}function kn(e){function t(s){return wn(s,e)}if(0<ds.length){wn(ds[0],e);for(var r=1;r<ds.length;r++){var n=ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ht!==null&&wn(Ht,e),Jt!==null&&wn(Jt,e),Qt!==null&&wn(Qt,e),yn.forEach(t),vn.forEach(t),r=0;r<Kt.length;r++)n=Kt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)qi(r),r.blockedOn===null&&Kt.shift()}var Mr=se.ReactCurrentBatchConfig,ps=!0;function Nd(e,t,r,n){var s=Ce,o=Mr.transition;Mr.transition=null;try{Ce=1,zo(e,t,r,n)}finally{Ce=s,Mr.transition=o}}function jd(e,t,r,n){var s=Ce,o=Mr.transition;Mr.transition=null;try{Ce=4,zo(e,t,r,n)}finally{Ce=s,Mr.transition=o}}function zo(e,t,r,n){if(ps){var s=Do(e,t,r,n);if(s===null)Xo(e,t,n,ms,r),Xi(e,n);else if(kd(s,e,t,r,n))n.stopPropagation();else if(Xi(e,n),t&4&&-1<wd.indexOf(e)){for(;s!==null;){var o=zn(s);if(o!==null&&Qi(o),o=Do(e,t,r,n),o===null&&Xo(e,t,n,ms,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Xo(e,t,n,null,r)}}var ms=null;function Do(e,t,r,n){if(ms=null,e=So(n),e=vr(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Fi(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ms=e,null}function ea(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dd()){case _o:return 1;case Ui:return 4;case ls:case fd:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var Yt=null,Oo=null,hs=null;function ta(){if(hs)return hs;var e,t=Oo,r=t.length,n,s="value"in Yt?Yt.value:Yt.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===s[o-n];n++);return hs=s.slice(e,1<n?1-n:void 0)}function gs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function ra(){return!1}function ct(e){function t(r,n,s,o,u){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ys:ra,this.isPropagationStopped=ra,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=ct(Fr),Sn=z({},Fr,{view:0,detail:0}),Ed=ct(Sn),Fo,Bo,Nn,vs=z({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nn&&(Nn&&e.type==="mousemove"?(Fo=e.screenX-Nn.screenX,Bo=e.screenY-Nn.screenY):Bo=Fo=0,Nn=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),na=ct(vs),Cd=z({},vs,{dataTransfer:0}),_d=ct(Cd),Pd=z({},Sn,{relatedTarget:0}),$o=ct(Pd),Td=z({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ld=ct(Td),Id=z({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rd=ct(Id),zd=z({},Fr,{data:0}),sa=ct(zd),Dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Md[e])?!!t[e]:!1}function Ao(){return Fd}var Bd=z({},Sn,{key:function(e){if(e.key){var t=Dd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Od[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$d=ct(Bd),Ad=z({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=ct(Ad),Wd=z({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),bd=ct(Wd),Ud=z({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vd=ct(Ud),Hd=z({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jd=ct(Hd),Qd=[9,13,27,32],Wo=k&&"CompositionEvent"in window,jn=null;k&&"documentMode"in document&&(jn=document.documentMode);var Kd=k&&"TextEvent"in window&&!jn,la=k&&(!Wo||jn&&8<jn&&11>=jn),ia=" ",aa=!1;function ca(e,t){switch(e){case"keyup":return Qd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function Yd(e,t){switch(e){case"compositionend":return ua(t);case"keypress":return t.which!==32?null:(aa=!0,ia);case"textInput":return e=t.data,e===ia&&aa?null:e;default:return null}}function Gd(e,t){if(Br)return e==="compositionend"||!Wo&&ca(e,t)?(e=ta(),hs=Oo=Yt=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return la&&t.locale!=="ko"?null:t.data;default:return null}}var Xd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xd[e.type]:t==="textarea"}function fa(e,t,r,n){Ri(n),t=Ns(t,"onChange"),0<t.length&&(r=new Mo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var En=null,Cn=null;function qd(e){La(e,0)}function xs(e){var t=Ur(e);if(ve(t))return e}function Zd(e,t){if(e==="change")return t}var pa=!1;if(k){var bo;if(k){var Uo="oninput"in document;if(!Uo){var ma=document.createElement("div");ma.setAttribute("oninput","return;"),Uo=typeof ma.oninput=="function"}bo=Uo}else bo=!1;pa=bo&&(!document.documentMode||9<document.documentMode)}function ha(){En&&(En.detachEvent("onpropertychange",ga),Cn=En=null)}function ga(e){if(e.propertyName==="value"&&xs(Cn)){var t=[];fa(t,Cn,e,So(e)),Mi(qd,t)}}function ef(e,t,r){e==="focusin"?(ha(),En=t,Cn=r,En.attachEvent("onpropertychange",ga)):e==="focusout"&&ha()}function tf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(Cn)}function rf(e,t){if(e==="click")return xs(t)}function nf(e,t){if(e==="input"||e==="change")return xs(t)}function sf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:sf;function _n(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!x.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function va(e,t){var r=ya(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ya(r)}}function xa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wa(){for(var e=window,t=je();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=je(e.document)}return t}function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function of(e){var t=wa(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xa(r.ownerDocument.documentElement,r)){if(n!==null&&Vo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=va(r,o);var u=va(r,n);s&&u&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lf=k&&"documentMode"in document&&11>=document.documentMode,$r=null,Ho=null,Pn=null,Jo=!1;function ka(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jo||$r==null||$r!==je(n)||(n=$r,"selectionStart"in n&&Vo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pn&&_n(Pn,n)||(Pn=n,n=Ns(Ho,"onSelect"),0<n.length&&(t=new Mo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$r)))}function ws(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ar={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Qo={},Sa={};k&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function ks(e){if(Qo[e])return Qo[e];if(!Ar[e])return e;var t=Ar[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sa)return Qo[e]=t[r];return e}var Na=ks("animationend"),ja=ks("animationiteration"),Ea=ks("animationstart"),Ca=ks("transitionend"),_a=new Map,Pa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){_a.set(e,t),p(t,[e])}for(var Ko=0;Ko<Pa.length;Ko++){var Yo=Pa[Ko],af=Yo.toLowerCase(),cf=Yo[0].toUpperCase()+Yo.slice(1);Gt(af,"on"+cf)}Gt(Na,"onAnimationEnd"),Gt(ja,"onAnimationIteration"),Gt(Ea,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Ca,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Ta(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,id(n,t,void 0,e),e.currentTarget=null}function La(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var m=n[u],h=m.instance,E=m.currentTarget;if(m=m.listener,h!==o&&s.isPropagationStopped())break e;Ta(s,m,E),o=h}else for(u=0;u<n.length;u++){if(m=n[u],h=m.instance,E=m.currentTarget,m=m.listener,h!==o&&s.isPropagationStopped())break e;Ta(s,m,E),o=h}}}if(os)throw e=Co,os=!1,Co=null,e}function Te(e,t){var r=t[nl];r===void 0&&(r=t[nl]=new Set);var n=e+"__bubble";r.has(n)||(Ia(t,e,2,!1),r.add(n))}function Go(e,t,r){var n=0;t&&(n|=4),Ia(r,e,n,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Ln(e){if(!e[Ss]){e[Ss]=!0,f.forEach(function(r){r!=="selectionchange"&&(uf.has(r)||Go(r,!1,e),Go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,Go("selectionchange",!1,t))}}function Ia(e,t,r,n){switch(ea(t)){case 1:var s=Nd;break;case 4:s=jd;break;default:s=zo}r=s.bind(null,t,r,e),s=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xo(e,t,r,n,s){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var m=n.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(u===4)for(u=n.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;u=u.return}for(;m!==null;){if(u=vr(m),u===null)return;if(h=u.tag,h===5||h===6){n=o=u;continue e}m=m.parentNode}}n=n.return}Mi(function(){var E=o,M=So(r),$=[];e:{var O=_a.get(e);if(O!==void 0){var G=Mo,ee=e;switch(e){case"keypress":if(gs(r)===0)break e;case"keydown":case"keyup":G=$d;break;case"focusin":ee="focus",G=$o;break;case"focusout":ee="blur",G=$o;break;case"beforeblur":case"afterblur":G=$o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=bd;break;case Na:case ja:case Ea:G=Ld;break;case Ca:G=Vd;break;case"scroll":G=Ed;break;case"wheel":G=Jd;break;case"copy":case"cut":case"paste":G=Rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=oa}var te=(t&4)!==0,Fe=!te&&e==="scroll",S=te?O!==null?O+"Capture":null:O;te=[];for(var v=E,j;v!==null;){j=v;var W=j.stateNode;if(j.tag===5&&W!==null&&(j=W,S!==null&&(W=fn(v,S),W!=null&&te.push(In(v,W,j)))),Fe)break;v=v.return}0<te.length&&(O=new G(O,ee,null,r,M),$.push({event:O,listeners:te}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",O&&r!==ko&&(ee=r.relatedTarget||r.fromElement)&&(vr(ee)||ee[zt]))break e;if((G||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,G?(ee=r.relatedTarget||r.toElement,G=E,ee=ee?vr(ee):null,ee!==null&&(Fe=yr(ee),ee!==Fe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(G=null,ee=E),G!==ee)){if(te=na,W="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(te=oa,W="onPointerLeave",S="onPointerEnter",v="pointer"),Fe=G==null?O:Ur(G),j=ee==null?O:Ur(ee),O=new te(W,v+"leave",G,r,M),O.target=Fe,O.relatedTarget=j,W=null,vr(M)===E&&(te=new te(S,v+"enter",ee,r,M),te.target=j,te.relatedTarget=Fe,W=te),Fe=W,G&&ee)t:{for(te=G,S=ee,v=0,j=te;j;j=Wr(j))v++;for(j=0,W=S;W;W=Wr(W))j++;for(;0<v-j;)te=Wr(te),v--;for(;0<j-v;)S=Wr(S),j--;for(;v--;){if(te===S||S!==null&&te===S.alternate)break t;te=Wr(te),S=Wr(S)}te=null}else te=null;G!==null&&Ra($,O,G,te,!1),ee!==null&&Fe!==null&&Ra($,Fe,ee,te,!0)}}e:{if(O=E?Ur(E):window,G=O.nodeName&&O.nodeName.toLowerCase(),G==="select"||G==="input"&&O.type==="file")var re=Zd;else if(da(O))if(pa)re=nf;else{re=tf;var le=ef}else(G=O.nodeName)&&G.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(re=rf);if(re&&(re=re(e,E))){fa($,re,r,M);break e}le&&le(e,O,E),e==="focusout"&&(le=O._wrapperState)&&le.controlled&&O.type==="number"&&Vt(O,"number",O.value)}switch(le=E?Ur(E):window,e){case"focusin":(da(le)||le.contentEditable==="true")&&($r=le,Ho=E,Pn=null);break;case"focusout":Pn=Ho=$r=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,ka($,r,M);break;case"selectionchange":if(lf)break;case"keydown":case"keyup":ka($,r,M)}var ie;if(Wo)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Br?ca(e,r)&&(ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ce="onCompositionStart");ce&&(la&&r.locale!=="ko"&&(Br||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Br&&(ie=ta()):(Yt=M,Oo="value"in Yt?Yt.value:Yt.textContent,Br=!0)),le=Ns(E,ce),0<le.length&&(ce=new sa(ce,e,null,r,M),$.push({event:ce,listeners:le}),ie?ce.data=ie:(ie=ua(r),ie!==null&&(ce.data=ie)))),(ie=Kd?Yd(e,r):Gd(e,r))&&(E=Ns(E,"onBeforeInput"),0<E.length&&(M=new sa("onBeforeInput","beforeinput",null,r,M),$.push({event:M,listeners:E}),M.data=ie))}La($,t)})}function In(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ns(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=fn(e,r),o!=null&&n.unshift(In(e,o,s)),o=fn(e,t),o!=null&&n.push(In(e,o,s))),e=e.return}return n}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ra(e,t,r,n,s){for(var o=t._reactName,u=[];r!==null&&r!==n;){var m=r,h=m.alternate,E=m.stateNode;if(h!==null&&h===n)break;m.tag===5&&E!==null&&(m=E,s?(h=fn(r,o),h!=null&&u.unshift(In(r,h,m))):s||(h=fn(r,o),h!=null&&u.push(In(r,h,m)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var df=/\r\n?/g,ff=/\u0000|\uFFFD/g;function za(e){return(typeof e=="string"?e:""+e).replace(df,`
`).replace(ff,"")}function js(e,t,r){if(t=za(t),za(e)!==t&&r)throw Error(c(425))}function Es(){}var qo=null,Zo=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0,Da=typeof Promise=="function"?Promise:void 0,mf=typeof queueMicrotask=="function"?queueMicrotask:typeof Da<"u"?function(e){return Da.resolve(null).then(e).catch(hf)}:tl;function hf(e){setTimeout(function(){throw e})}function rl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),kn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);kn(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),Pt="__reactFiber$"+br,Rn="__reactProps$"+br,zt="__reactContainer$"+br,nl="__reactEvents$"+br,gf="__reactListeners$"+br,yf="__reactHandles$"+br;function vr(e){var t=e[Pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[Pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Oa(e);e!==null;){if(r=e[Pt])return r;e=Oa(e)}return t}e=r,r=e.parentNode}return null}function zn(e){return e=e[Pt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Cs(e){return e[Rn]||null}var sl=[],Vr=-1;function qt(e){return{current:e}}function Le(e){0>Vr||(e.current=sl[Vr],sl[Vr]=null,Vr--)}function _e(e,t){Vr++,sl[Vr]=e.current,e.current=t}var Zt={},Ke=qt(Zt),nt=qt(!1),xr=Zt;function Hr(e,t){var r=e.type.contextTypes;if(!r)return Zt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function st(e){return e=e.childContextTypes,e!=null}function _s(){Le(nt),Le(Ke)}function Ma(e,t,r){if(Ke.current!==Zt)throw Error(c(168));_e(Ke,t),_e(nt,r)}function Fa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(c(108,B(e)||"Unknown",s));return z({},r,n)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,xr=Ke.current,_e(Ke,e),_e(nt,nt.current),!0}function Ba(e,t,r){var n=e.stateNode;if(!n)throw Error(c(169));r?(e=Fa(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,Le(nt),Le(Ke),_e(Ke,e)):Le(nt),_e(nt,r)}var Dt=null,Ts=!1,ol=!1;function $a(e){Dt===null?Dt=[e]:Dt.push(e)}function vf(e){Ts=!0,$a(e)}function er(){if(!ol&&Dt!==null){ol=!0;var e=0,t=Ce;try{var r=Dt;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dt=null,Ts=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),Wi(_o,er),s}finally{Ce=t,ol=!1}}return null}var Jr=[],Qr=0,Ls=null,Is=0,pt=[],mt=0,wr=null,Ot=1,Mt="";function kr(e,t){Jr[Qr++]=Is,Jr[Qr++]=Ls,Ls=e,Is=t}function Aa(e,t,r){pt[mt++]=Ot,pt[mt++]=Mt,pt[mt++]=wr,wr=e;var n=Ot;e=Mt;var s=32-wt(n)-1;n&=~(1<<s),r+=1;var o=32-wt(t)+s;if(30<o){var u=s-s%5;o=(n&(1<<u)-1).toString(32),n>>=u,s-=u,Ot=1<<32-wt(t)+s|r<<s|n,Mt=o+e}else Ot=1<<o|r<<s|n,Mt=e}function ll(e){e.return!==null&&(kr(e,1),Aa(e,1,0))}function il(e){for(;e===Ls;)Ls=Jr[--Qr],Jr[Qr]=null,Is=Jr[--Qr],Jr[Qr]=null;for(;e===wr;)wr=pt[--mt],pt[mt]=null,Mt=pt[--mt],pt[mt]=null,Ot=pt[--mt],pt[mt]=null}var ut=null,dt=null,Re=!1,St=null;function Wa(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ba(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,dt=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:Ot,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,dt=null,!0):!1;default:return!1}}function al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(Re){var t=dt;if(t){var r=t;if(!ba(e,t)){if(al(e))throw Error(c(418));t=Xt(r.nextSibling);var n=ut;t&&ba(e,t)?Wa(n,r):(e.flags=e.flags&-4097|2,Re=!1,ut=e)}}else{if(al(e))throw Error(c(418));e.flags=e.flags&-4097|2,Re=!1,ut=e}}}function Ua(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Rs(e){if(e!==ut)return!1;if(!Re)return Ua(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=dt)){if(al(e))throw Va(),Error(c(418));for(;t;)Wa(e,t),t=Xt(t.nextSibling)}if(Ua(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ut?Xt(e.stateNode.nextSibling):null;return!0}function Va(){for(var e=dt;e;)e=Xt(e.nextSibling)}function Kr(){dt=ut=null,Re=!1}function ul(e){St===null?St=[e]:St.push(e)}var xf=se.ReactCurrentBatchConfig;function Dn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(c(309));var n=r.stateNode}if(!n)throw Error(c(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var m=s.refs;u===null?delete m[o]:m[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(c(284));if(!r._owner)throw Error(c(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){var t=e._init;return t(e._payload)}function Ja(e){function t(S,v){if(e){var j=S.deletions;j===null?(S.deletions=[v],S.flags|=16):j.push(v)}}function r(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function n(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function s(S,v){return S=ar(S,v),S.index=0,S.sibling=null,S}function o(S,v,j){return S.index=j,e?(j=S.alternate,j!==null?(j=j.index,j<v?(S.flags|=2,v):j):(S.flags|=2,v)):(S.flags|=1048576,v)}function u(S){return e&&S.alternate===null&&(S.flags|=2),S}function m(S,v,j,W){return v===null||v.tag!==6?(v=ti(j,S.mode,W),v.return=S,v):(v=s(v,j),v.return=S,v)}function h(S,v,j,W){var re=j.type;return re===Z?M(S,v,j.props.children,W,j.key):v!==null&&(v.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ke&&Ha(re)===v.type)?(W=s(v,j.props),W.ref=Dn(S,v,j),W.return=S,W):(W=no(j.type,j.key,j.props,null,S.mode,W),W.ref=Dn(S,v,j),W.return=S,W)}function E(S,v,j,W){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=ri(j,S.mode,W),v.return=S,v):(v=s(v,j.children||[]),v.return=S,v)}function M(S,v,j,W,re){return v===null||v.tag!==7?(v=Tr(j,S.mode,W,re),v.return=S,v):(v=s(v,j),v.return=S,v)}function $(S,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ti(""+v,S.mode,j),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ge:return j=no(v.type,v.key,v.props,null,S.mode,j),j.ref=Dn(S,null,v),j.return=S,j;case xe:return v=ri(v,S.mode,j),v.return=S,v;case ke:var W=v._init;return $(S,W(v._payload),j)}if(gr(v)||F(v))return v=Tr(v,S.mode,j,null),v.return=S,v;zs(S,v)}return null}function O(S,v,j,W){var re=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return re!==null?null:m(S,v,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ge:return j.key===re?h(S,v,j,W):null;case xe:return j.key===re?E(S,v,j,W):null;case ke:return re=j._init,O(S,v,re(j._payload),W)}if(gr(j)||F(j))return re!==null?null:M(S,v,j,W,null);zs(S,j)}return null}function G(S,v,j,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return S=S.get(j)||null,m(v,S,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ge:return S=S.get(W.key===null?j:W.key)||null,h(v,S,W,re);case xe:return S=S.get(W.key===null?j:W.key)||null,E(v,S,W,re);case ke:var le=W._init;return G(S,v,j,le(W._payload),re)}if(gr(W)||F(W))return S=S.get(j)||null,M(v,S,W,re,null);zs(v,W)}return null}function ee(S,v,j,W){for(var re=null,le=null,ie=v,ce=v=0,Ve=null;ie!==null&&ce<j.length;ce++){ie.index>ce?(Ve=ie,ie=null):Ve=ie.sibling;var Ne=O(S,ie,j[ce],W);if(Ne===null){ie===null&&(ie=Ve);break}e&&ie&&Ne.alternate===null&&t(S,ie),v=o(Ne,v,ce),le===null?re=Ne:le.sibling=Ne,le=Ne,ie=Ve}if(ce===j.length)return r(S,ie),Re&&kr(S,ce),re;if(ie===null){for(;ce<j.length;ce++)ie=$(S,j[ce],W),ie!==null&&(v=o(ie,v,ce),le===null?re=ie:le.sibling=ie,le=ie);return Re&&kr(S,ce),re}for(ie=n(S,ie);ce<j.length;ce++)Ve=G(ie,S,ce,j[ce],W),Ve!==null&&(e&&Ve.alternate!==null&&ie.delete(Ve.key===null?ce:Ve.key),v=o(Ve,v,ce),le===null?re=Ve:le.sibling=Ve,le=Ve);return e&&ie.forEach(function(cr){return t(S,cr)}),Re&&kr(S,ce),re}function te(S,v,j,W){var re=F(j);if(typeof re!="function")throw Error(c(150));if(j=re.call(j),j==null)throw Error(c(151));for(var le=re=null,ie=v,ce=v=0,Ve=null,Ne=j.next();ie!==null&&!Ne.done;ce++,Ne=j.next()){ie.index>ce?(Ve=ie,ie=null):Ve=ie.sibling;var cr=O(S,ie,Ne.value,W);if(cr===null){ie===null&&(ie=Ve);break}e&&ie&&cr.alternate===null&&t(S,ie),v=o(cr,v,ce),le===null?re=cr:le.sibling=cr,le=cr,ie=Ve}if(Ne.done)return r(S,ie),Re&&kr(S,ce),re;if(ie===null){for(;!Ne.done;ce++,Ne=j.next())Ne=$(S,Ne.value,W),Ne!==null&&(v=o(Ne,v,ce),le===null?re=Ne:le.sibling=Ne,le=Ne);return Re&&kr(S,ce),re}for(ie=n(S,ie);!Ne.done;ce++,Ne=j.next())Ne=G(ie,S,ce,Ne.value,W),Ne!==null&&(e&&Ne.alternate!==null&&ie.delete(Ne.key===null?ce:Ne.key),v=o(Ne,v,ce),le===null?re=Ne:le.sibling=Ne,le=Ne);return e&&ie.forEach(function(qf){return t(S,qf)}),Re&&kr(S,ce),re}function Fe(S,v,j,W){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ge:e:{for(var re=j.key,le=v;le!==null;){if(le.key===re){if(re=j.type,re===Z){if(le.tag===7){r(S,le.sibling),v=s(le,j.props.children),v.return=S,S=v;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ke&&Ha(re)===le.type){r(S,le.sibling),v=s(le,j.props),v.ref=Dn(S,le,j),v.return=S,S=v;break e}r(S,le);break}else t(S,le);le=le.sibling}j.type===Z?(v=Tr(j.props.children,S.mode,W,j.key),v.return=S,S=v):(W=no(j.type,j.key,j.props,null,S.mode,W),W.ref=Dn(S,v,j),W.return=S,S=W)}return u(S);case xe:e:{for(le=j.key;v!==null;){if(v.key===le)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(S,v.sibling),v=s(v,j.children||[]),v.return=S,S=v;break e}else{r(S,v);break}else t(S,v);v=v.sibling}v=ri(j,S.mode,W),v.return=S,S=v}return u(S);case ke:return le=j._init,Fe(S,v,le(j._payload),W)}if(gr(j))return ee(S,v,j,W);if(F(j))return te(S,v,j,W);zs(S,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(S,v.sibling),v=s(v,j),v.return=S,S=v):(r(S,v),v=ti(j,S.mode,W),v.return=S,S=v),u(S)):r(S,v)}return Fe}var Yr=Ja(!0),Qa=Ja(!1),Ds=qt(null),Os=null,Gr=null,dl=null;function fl(){dl=Gr=Os=null}function pl(e){var t=Ds.current;Le(Ds),e._currentValue=t}function ml(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){Os=e,dl=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(dl!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(Os===null)throw Error(c(308));Gr=e,Os.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var Sr=null;function hl(e){Sr===null?Sr=[e]:Sr.push(e)}function Ka(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ft(e,n)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(we&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ft(e,r)}return s=n.interleaved,s===null?(t.next=t,hl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ft(e,r)}function Ms(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lo(e,r)}}function Ga(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fs(e,t,r,n){var s=e.updateQueue;tr=!1;var o=s.firstBaseUpdate,u=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var h=m,E=h.next;h.next=null,u===null?o=E:u.next=E,u=h;var M=e.alternate;M!==null&&(M=M.updateQueue,m=M.lastBaseUpdate,m!==u&&(m===null?M.firstBaseUpdate=E:m.next=E,M.lastBaseUpdate=h))}if(o!==null){var $=s.baseState;u=0,M=E=h=null,m=o;do{var O=m.lane,G=m.eventTime;if((n&O)===O){M!==null&&(M=M.next={eventTime:G,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var ee=e,te=m;switch(O=t,G=r,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){$=ee.call(G,$,O);break e}$=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,O=typeof ee=="function"?ee.call(G,$,O):ee,O==null)break e;$=z({},$,O);break e;case 2:tr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,O=s.effects,O===null?s.effects=[m]:O.push(m))}else G={eventTime:G,lane:O,tag:m.tag,payload:m.payload,callback:m.callback,next:null},M===null?(E=M=G,h=$):M=M.next=G,u|=O;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;O=m,m=O.next,O.next=null,s.lastBaseUpdate=O,s.shared.pending=null}}while(!0);if(M===null&&(h=$),s.baseState=h,s.firstBaseUpdate=E,s.lastBaseUpdate=M,t=s.shared.interleaved,t!==null){s=t;do u|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Er|=u,e.lanes=u,e.memoizedState=$}}function Xa(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(c(191,s));s.call(n)}}}var On={},Tt=qt(On),Mn=qt(On),Fn=qt(On);function Nr(e){if(e===On)throw Error(c(174));return e}function yl(e,t){switch(_e(Fn,t),_e(Mn,e),_e(Tt,On),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}Le(Tt),_e(Tt,t)}function qr(){Le(Tt),Le(Mn),Le(Fn)}function qa(e){Nr(Fn.current);var t=Nr(Tt.current),r=vo(t,e.type);t!==r&&(_e(Mn,e),_e(Tt,r))}function vl(e){Mn.current===e&&(Le(Tt),Le(Mn))}var ze=qt(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function wl(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var $s=se.ReactCurrentDispatcher,kl=se.ReactCurrentBatchConfig,jr=0,De=null,Ae=null,be=null,As=!1,Bn=!1,$n=0,wf=0;function Ye(){throw Error(c(321))}function Sl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kt(e[r],t[r]))return!1;return!0}function Nl(e,t,r,n,s,o){if(jr=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?jf:Ef,e=r(n,s),Bn){o=0;do{if(Bn=!1,$n=0,25<=o)throw Error(c(301));o+=1,be=Ae=null,t.updateQueue=null,$s.current=Cf,e=r(n,s)}while(Bn)}if($s.current=Us,t=Ae!==null&&Ae.next!==null,jr=0,be=Ae=De=null,As=!1,t)throw Error(c(300));return e}function jl(){var e=$n!==0;return $n=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?De.memoizedState=be=e:be=be.next=e,be}function gt(){if(Ae===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=be===null?De.memoizedState:be.next;if(t!==null)be=t,Ae=e;else{if(e===null)throw Error(c(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},be===null?De.memoizedState=be=e:be=be.next=e}return be}function An(e,t){return typeof t=="function"?t(e):t}function El(e){var t=gt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var n=Ae,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var u=s.next;s.next=o.next,o.next=u}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var m=u=null,h=null,E=o;do{var M=E.lane;if((jr&M)===M)h!==null&&(h=h.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),n=E.hasEagerState?E.eagerState:e(n,E.action);else{var $={lane:M,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};h===null?(m=h=$,u=n):h=h.next=$,De.lanes|=M,Er|=M}E=E.next}while(E!==null&&E!==o);h===null?u=n:h.next=m,kt(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=h,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,De.lanes|=o,Er|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cl(e){var t=gt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var u=s=s.next;do o=e(o,u.action),u=u.next;while(u!==s);kt(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Za(){}function ec(e,t){var r=De,n=gt(),s=t(),o=!kt(n.memoizedState,s);if(o&&(n.memoizedState=s,ot=!0),n=n.queue,_l(nc.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,Wn(9,rc.bind(null,r,n,s,t),void 0,null),Ue===null)throw Error(c(349));(jr&30)!==0||tc(r,t,s)}return s}function tc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rc(e,t,r,n){t.value=r,t.getSnapshot=n,sc(t)&&oc(e)}function nc(e,t,r){return r(function(){sc(t)&&oc(e)})}function sc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kt(e,r)}catch{return!0}}function oc(e){var t=Ft(e,1);t!==null&&Ct(t,e,1,-1)}function lc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t.queue=e,e=e.dispatch=Nf.bind(null,De,e),[t.memoizedState,e]}function Wn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ic(){return gt().memoizedState}function Ws(e,t,r,n){var s=Lt();De.flags|=e,s.memoizedState=Wn(1|t,r,void 0,n===void 0?null:n)}function bs(e,t,r,n){var s=gt();n=n===void 0?null:n;var o=void 0;if(Ae!==null){var u=Ae.memoizedState;if(o=u.destroy,n!==null&&Sl(n,u.deps)){s.memoizedState=Wn(t,r,o,n);return}}De.flags|=e,s.memoizedState=Wn(1|t,r,o,n)}function ac(e,t){return Ws(8390656,8,e,t)}function _l(e,t){return bs(2048,8,e,t)}function cc(e,t){return bs(4,2,e,t)}function uc(e,t){return bs(4,4,e,t)}function dc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fc(e,t,r){return r=r!=null?r.concat([e]):null,bs(4,4,dc.bind(null,t,e),r)}function Pl(){}function pc(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mc(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hc(e,t,r){return(jr&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r):(kt(r,t)||(r=Hi(),De.lanes|=r,Er|=r,e.baseState=!0),t)}function kf(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=kl.transition;kl.transition={};try{e(!1),t()}finally{Ce=r,kl.transition=n}}function gc(){return gt().memoizedState}function Sf(e,t,r){var n=lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yc(e))vc(t,r);else if(r=Ka(e,t,r,n),r!==null){var s=et();Ct(r,e,n,s),xc(r,t,n)}}function Nf(e,t,r){var n=lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yc(e))vc(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,m=o(u,r);if(s.hasEagerState=!0,s.eagerState=m,kt(m,u)){var h=t.interleaved;h===null?(s.next=s,hl(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}r=Ka(e,t,s,n),r!==null&&(s=et(),Ct(r,e,n,s),xc(r,t,n))}}function yc(e){var t=e.alternate;return e===De||t!==null&&t===De}function vc(e,t){Bn=As=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xc(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lo(e,r)}}var Us={readContext:ht,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},jf={readContext:ht,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:ac,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ws(4194308,4,dc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var r=Lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sf.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:lc,useDebugValue:Pl,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=lc(!1),t=e[0];return e=kf.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,s=Lt();if(Re){if(r===void 0)throw Error(c(407));r=r()}else{if(r=t(),Ue===null)throw Error(c(349));(jr&30)!==0||tc(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ac(nc.bind(null,n,o,e),[e]),n.flags|=2048,Wn(9,rc.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Lt(),t=Ue.identifierPrefix;if(Re){var r=Mt,n=Ot;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$n++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ef={readContext:ht,useCallback:pc,useContext:ht,useEffect:_l,useImperativeHandle:fc,useInsertionEffect:cc,useLayoutEffect:uc,useMemo:mc,useReducer:El,useRef:ic,useState:function(){return El(An)},useDebugValue:Pl,useDeferredValue:function(e){var t=gt();return hc(t,Ae.memoizedState,e)},useTransition:function(){var e=El(An)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Za,useSyncExternalStore:ec,useId:gc,unstable_isNewReconciler:!1},Cf={readContext:ht,useCallback:pc,useContext:ht,useEffect:_l,useImperativeHandle:fc,useInsertionEffect:cc,useLayoutEffect:uc,useMemo:mc,useReducer:Cl,useRef:ic,useState:function(){return Cl(An)},useDebugValue:Pl,useDeferredValue:function(e){var t=gt();return Ae===null?t.memoizedState=e:hc(t,Ae.memoizedState,e)},useTransition:function(){var e=Cl(An)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Za,useSyncExternalStore:ec,useId:gc,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Tl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vs={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),s=lr(e),o=Bt(n,s);o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,s),t!==null&&(Ct(t,e,s,n),Ms(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),s=lr(e),o=Bt(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,s),t!==null&&(Ct(t,e,s,n),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=lr(e),s=Bt(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(Ct(t,e,n,r),Ms(t,e,n))}};function wc(e,t,r,n,s,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!_n(r,n)||!_n(s,o):!0}function kc(e,t,r){var n=!1,s=Zt,o=t.contextType;return typeof o=="object"&&o!==null?o=ht(o):(s=st(t)?xr:Ke.current,n=t.contextTypes,o=(n=n!=null)?Hr(e,s):Zt),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ll(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},gl(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ht(o):(o=st(t)?xr:Ke.current,s.context=Hr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tl(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vs.enqueueReplaceState(s,s.state,null),Fs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",n=t;do r+=Q(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Il(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _f=typeof WeakMap=="function"?WeakMap:Map;function Nc(e,t,r){r=Bt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xs||(Xs=!0,Ql=n),Rl(e,t)},r}function jc(e,t,r){r=Bt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Rl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Rl(e,t),typeof n!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Ec(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _f;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Wf.bind(null,e,t,r),t.then(e,e))}function Cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bt(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Pf=se.ReactCurrentOwner,ot=!1;function Ze(e,t,r,n){t.child=e===null?Qa(t,null,r,n):Yr(t,e.child,r,n)}function Pc(e,t,r,n,s){r=r.render;var o=t.ref;return Xr(t,s),n=Nl(e,t,r,n,o,s),r=jl(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Re&&r&&ll(t),t.flags|=1,Ze(e,t,n,s),t.child)}function Tc(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!ei(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Lc(e,t,o,n,s)):(e=no(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&s)===0){var u=o.memoizedProps;if(r=r.compare,r=r!==null?r:_n,r(u,n)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=ar(o,n),e.ref=t.ref,e.return=t,t.child=e}function Lc(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(_n(o,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=o,(e.lanes&s)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,$t(e,t,s)}return zl(e,t,r,n,s)}function Ic(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(tn,ft),ft|=r;else{if((r&1073741824)===0)return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(tn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,_e(tn,ft),ft|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,_e(tn,ft),ft|=n;return Ze(e,t,s,r),t.child}function Rc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zl(e,t,r,n,s){var o=st(r)?xr:Ke.current;return o=Hr(t,o),Xr(t,s),r=Nl(e,t,r,n,o,s),n=jl(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Re&&n&&ll(t),t.flags|=1,Ze(e,t,r,s),t.child)}function zc(e,t,r,n,s){if(st(r)){var o=!0;Ps(t)}else o=!1;if(Xr(t,s),t.stateNode===null)Js(e,t),kc(t,r,n),Ll(t,r,n,s),n=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var h=u.context,E=r.contextType;typeof E=="object"&&E!==null?E=ht(E):(E=st(r)?xr:Ke.current,E=Hr(t,E));var M=r.getDerivedStateFromProps,$=typeof M=="function"||typeof u.getSnapshotBeforeUpdate=="function";$||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==n||h!==E)&&Sc(t,u,n,E),tr=!1;var O=t.memoizedState;u.state=O,Fs(t,n,u,s),h=t.memoizedState,m!==n||O!==h||nt.current||tr?(typeof M=="function"&&(Tl(t,r,M,n),h=t.memoizedState),(m=tr||wc(t,r,m,n,O,h,E))?($||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=h),u.props=n,u.state=h,u.context=E,n=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Ya(e,t),m=t.memoizedProps,E=t.type===t.elementType?m:Nt(t.type,m),u.props=E,$=t.pendingProps,O=u.context,h=r.contextType,typeof h=="object"&&h!==null?h=ht(h):(h=st(r)?xr:Ke.current,h=Hr(t,h));var G=r.getDerivedStateFromProps;(M=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==$||O!==h)&&Sc(t,u,n,h),tr=!1,O=t.memoizedState,u.state=O,Fs(t,n,u,s);var ee=t.memoizedState;m!==$||O!==ee||nt.current||tr?(typeof G=="function"&&(Tl(t,r,G,n),ee=t.memoizedState),(E=tr||wc(t,r,E,n,O,ee,h)||!1)?(M||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,ee,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,ee,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=ee),u.props=n,u.state=ee,u.context=h,n=E):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return Dl(e,t,r,n,o,s)}function Dl(e,t,r,n,s,o){Rc(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return s&&Ba(t,r,!1),$t(e,t,o);n=t.stateNode,Pf.current=t;var m=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=Yr(t,e.child,null,o),t.child=Yr(t,null,m,o)):Ze(e,t,m,o),t.memoizedState=n.state,s&&Ba(t,r,!0),t.child}function Dc(e){var t=e.stateNode;t.pendingContext?Ma(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(e,t.context,!1),yl(e,t.containerInfo)}function Oc(e,t,r,n,s){return Kr(),ul(s),t.flags|=256,Ze(e,t,r,n),t.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mc(e,t,r){var n=t.pendingProps,s=ze.current,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(ze,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=n.children,e=n.fallback,o?(n=t.mode,o=t.child,u={mode:"hidden",children:u},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=so(u,n,0,null),e=Tr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ml(r),t.memoizedState=Ol,e):Fl(t,u));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return Tf(e,t,u,n,m,s,r);if(o){o=n.fallback,u=t.mode,s=e.child,m=s.sibling;var h={mode:"hidden",children:n.children};return(u&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=h,t.deletions=null):(n=ar(s,h),n.subtreeFlags=s.subtreeFlags&14680064),m!==null?o=ar(m,o):(o=Tr(o,u,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,u=e.child.memoizedState,u=u===null?Ml(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~r,t.memoizedState=Ol,n}return o=e.child,e=o.sibling,n=ar(o,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fl(e,t){return t=so({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,r,n){return n!==null&&ul(n),Yr(t,e.child,null,r),e=Fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tf(e,t,r,n,s,o,u){if(r)return t.flags&256?(t.flags&=-257,n=Il(Error(c(422))),Hs(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=so({mode:"visible",children:n.children},s,0,null),o=Tr(o,s,u,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,(t.mode&1)!==0&&Yr(t,e.child,null,u),t.child.memoizedState=Ml(u),t.memoizedState=Ol,o);if((t.mode&1)===0)return Hs(e,t,u,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var m=n.dgst;return n=m,o=Error(c(419)),n=Il(o,n,void 0),Hs(e,t,u,n)}if(m=(u&e.childLanes)!==0,ot||m){if(n=Ue,n!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|u))!==0?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ft(e,s),Ct(n,e,s,-1))}return Zl(),n=Il(Error(c(421))),Hs(e,t,u,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bf.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,dt=Xt(s.nextSibling),ut=t,Re=!0,St=null,e!==null&&(pt[mt++]=Ot,pt[mt++]=Mt,pt[mt++]=wr,Ot=e.id,Mt=e.overflow,wr=t),t=Fl(t,n.children),t.flags|=4096,t)}function Fc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ml(e.return,t,r)}function Bl(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Bc(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Ze(e,t,n.children,r),n=ze.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,r,t);else if(e.tag===19)Fc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(ze,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bl(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bl(t,!0,r,null,o);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lf(e,t,r){switch(t.tag){case 3:Dc(t),Kr();break;case 5:qa(t);break;case 1:st(t.type)&&Ps(t);break;case 4:yl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_e(Ds,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(ze,ze.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Mc(e,t,r):(_e(ze,ze.current&1),e=$t(e,t,r),e!==null?e.sibling:null);_e(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return Bc(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(ze,ze.current),n)break;return null;case 22:case 23:return t.lanes=0,Ic(e,t,r)}return $t(e,t,r)}var $c,$l,Ac,Wc;$c=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$l=function(){},Ac=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nr(Tt.current);var o=null;switch(r){case"input":s=Ie(e,s),n=Ie(e,n),o=[];break;case"select":s=z({},s,{value:void 0}),n=z({},n,{value:void 0}),o=[];break;case"textarea":s=yo(e,s),n=yo(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Es)}xo(r,n);var u;r=null;for(E in s)if(!n.hasOwnProperty(E)&&s.hasOwnProperty(E)&&s[E]!=null)if(E==="style"){var m=s[E];for(u in m)m.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(d.hasOwnProperty(E)?o||(o=[]):(o=o||[]).push(E,null));for(E in n){var h=n[E];if(m=s!=null?s[E]:void 0,n.hasOwnProperty(E)&&h!==m&&(h!=null||m!=null))if(E==="style")if(m){for(u in m)!m.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in h)h.hasOwnProperty(u)&&m[u]!==h[u]&&(r||(r={}),r[u]=h[u])}else r||(o||(o=[]),o.push(E,r)),r=h;else E==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,m=m?m.__html:void 0,h!=null&&m!==h&&(o=o||[]).push(E,h)):E==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(E,""+h):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(d.hasOwnProperty(E)?(h!=null&&E==="onScroll"&&Te("scroll",e),o||m===h||(o=[])):(o=o||[]).push(E,h))}r&&(o=o||[]).push("style",r);var E=o;(t.updateQueue=E)&&(t.flags|=4)}},Wc=function(e,t,r,n){r!==n&&(t.flags|=4)};function bn(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function If(e,t,r){var n=t.pendingProps;switch(il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return st(t.type)&&_s(),Ge(t),null;case 3:return n=t.stateNode,qr(),Le(nt),Le(Ke),wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(Gl(St),St=null))),$l(e,t),Ge(t),null;case 5:vl(t);var s=Nr(Fn.current);if(r=t.type,e!==null&&t.stateNode!=null)Ac(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}if(e=Nr(Tt.current),Rs(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Pt]=t,n[Rn]=o,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<Tn.length;s++)Te(Tn[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":rt(n,o),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Te("invalid",n);break;case"textarea":ji(n,o),Te("invalid",n)}xo(r,o),s=null;for(var u in o)if(o.hasOwnProperty(u)){var m=o[u];u==="children"?typeof m=="string"?n.textContent!==m&&(o.suppressHydrationWarning!==!0&&js(n.textContent,m,e),s=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(o.suppressHydrationWarning!==!0&&js(n.textContent,m,e),s=["children",""+m]):d.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&Te("scroll",n)}switch(r){case"input":Pe(n),cn(n,o,!0);break;case"textarea":Pe(n),Ci(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Es)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_i(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Pt]=t,e[Rn]=n,$c(e,t,!1,!1),t.stateNode=e;e:{switch(u=wo(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Tn.length;s++)Te(Tn[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":rt(e,n),s=Ie(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=z({},n,{value:void 0}),Te("invalid",e);break;case"textarea":ji(e,n),s=yo(e,n),Te("invalid",e);break;default:s=n}xo(r,s),m=s;for(o in m)if(m.hasOwnProperty(o)){var h=m[o];o==="style"?Li(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Pi(e,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&un(e,h):typeof h=="number"&&un(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(d.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Te("scroll",e):h!=null&&X(e,o,h,u))}switch(r){case"input":Pe(e),cn(e,n,!1);break;case"textarea":Pe(e),Ci(e);break;case"option":n.value!=null&&e.setAttribute("value",""+R(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?zr(e,!!n.multiple,o,!1):n.defaultValue!=null&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Es)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Wc(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(r=Nr(Fn.current),Nr(Tt.current),Rs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pt]=t,(o=n.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:js(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pt]=t,t.stateNode=n}return Ge(t),null;case 13:if(Le(ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Va(),Kr(),t.flags|=98560,o=!1;else if(o=Rs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Pt]=t}else Kr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else St!==null&&(Gl(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ze.current&1)!==0?We===0&&(We=3):Zl())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return qr(),$l(e,t),e===null&&Ln(t.stateNode.containerInfo),Ge(t),null;case 10:return pl(t.type._context),Ge(t),null;case 17:return st(t.type)&&_s(),Ge(t),null;case 19:if(Le(ze),o=t.memoizedState,o===null)return Ge(t),null;if(n=(t.flags&128)!==0,u=o.rendering,u===null)if(n)bn(o,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Bs(e),u!==null){for(t.flags|=128,bn(o,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>rn&&(t.flags|=128,n=!0,bn(o,!1),t.lanes=4194304)}else{if(!n)if(e=Bs(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Re)return Ge(t),null}else 2*Me()-o.renderingStartTime>rn&&r!==1073741824&&(t.flags|=128,n=!0,bn(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(r=o.last,r!==null?r.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,r=ze.current,_e(ze,n?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return ql(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function Rf(e,t){switch(il(t),t.tag){case 1:return st(t.type)&&_s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),Le(nt),Le(Ke),wl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return vl(t),null;case 13:if(Le(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(ze),null;case 4:return qr(),null;case 10:return pl(t.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var Qs=!1,Xe=!1,zf=typeof WeakSet=="function"?WeakSet:Set,q=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(e,t,n)}else r.current=null}function Al(e,t,r){try{r()}catch(n){Oe(e,t,n)}}var bc=!1;function Df(e,t){if(qo=ps,e=wa(),Vo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var u=0,m=-1,h=-1,E=0,M=0,$=e,O=null;t:for(;;){for(var G;$!==r||s!==0&&$.nodeType!==3||(m=u+s),$!==o||n!==0&&$.nodeType!==3||(h=u+n),$.nodeType===3&&(u+=$.nodeValue.length),(G=$.firstChild)!==null;)O=$,$=G;for(;;){if($===e)break t;if(O===r&&++E===s&&(m=u),O===o&&++M===n&&(h=u),(G=$.nextSibling)!==null)break;$=O,O=$.parentNode}$=G}r=m===-1||h===-1?null:{start:m,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zo={focusedElem:e,selectionRange:r},ps=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Fe=ee.memoizedState,S=t.stateNode,v=S.getSnapshotBeforeUpdate(t.elementType===t.type?te:Nt(t.type,te),Fe);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(W){Oe(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return ee=bc,bc=!1,ee}function Un(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Al(t,r,o)}s=s.next}while(s!==n)}}function Ks(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Uc(e){var t=e.alternate;t!==null&&(e.alternate=null,Uc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Rn],delete t[nl],delete t[gf],delete t[yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vc(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Es));else if(n!==4&&(e=e.child,e!==null))for(bl(e,t,r),e=e.sibling;e!==null;)bl(e,t,r),e=e.sibling}function Ul(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ul(e,t,r),e=e.sibling;e!==null;)Ul(e,t,r),e=e.sibling}var Je=null,jt=!1;function nr(e,t,r){for(r=r.child;r!==null;)Jc(e,t,r),r=r.sibling}function Jc(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(is,r)}catch{}switch(r.tag){case 5:Xe||en(r,t);case 6:var n=Je,s=jt;Je=null,nr(e,t,r),Je=n,jt=s,Je!==null&&(jt?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(jt?(e=Je,r=r.stateNode,e.nodeType===8?rl(e.parentNode,r):e.nodeType===1&&rl(e,r),kn(e)):rl(Je,r.stateNode));break;case 4:n=Je,s=jt,Je=r.stateNode.containerInfo,jt=!0,nr(e,t,r),Je=n,jt=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&Al(r,t,u),s=s.next}while(s!==n)}nr(e,t,r);break;case 1:if(!Xe&&(en(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){Oe(r,t,m)}nr(e,t,r);break;case 21:nr(e,t,r);break;case 22:r.mode&1?(Xe=(n=Xe)||r.memoizedState!==null,nr(e,t,r),Xe=n):nr(e,t,r);break;default:nr(e,t,r)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zf),t.forEach(function(n){var s=Uf.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:Je=m.stateNode,jt=!1;break e;case 3:Je=m.stateNode.containerInfo,jt=!0;break e;case 4:Je=m.stateNode.containerInfo,jt=!0;break e}m=m.return}if(Je===null)throw Error(c(160));Jc(o,u,s),Je=null,jt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(E){Oe(s,t,E)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kc(t,e),t=t.sibling}function Kc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),It(e),n&4){try{Un(3,e,e.return),Ks(3,e)}catch(te){Oe(e,e.return,te)}try{Un(5,e,e.return)}catch(te){Oe(e,e.return,te)}}break;case 1:Et(t,e),It(e),n&512&&r!==null&&en(r,r.return);break;case 5:if(Et(t,e),It(e),n&512&&r!==null&&en(r,r.return),e.flags&32){var s=e.stateNode;try{un(s,"")}catch(te){Oe(e,e.return,te)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,u=r!==null?r.memoizedProps:o,m=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{m==="input"&&o.type==="radio"&&o.name!=null&&Rr(s,o),wo(m,u);var E=wo(m,o);for(u=0;u<h.length;u+=2){var M=h[u],$=h[u+1];M==="style"?Li(s,$):M==="dangerouslySetInnerHTML"?Pi(s,$):M==="children"?un(s,$):X(s,M,$,E)}switch(m){case"input":Rt(s,o);break;case"textarea":Ei(s,o);break;case"select":var O=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var G=o.value;G!=null?zr(s,!!o.multiple,G,!1):O!==!!o.multiple&&(o.defaultValue!=null?zr(s,!!o.multiple,o.defaultValue,!0):zr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Rn]=o}catch(te){Oe(e,e.return,te)}}break;case 6:if(Et(t,e),It(e),n&4){if(e.stateNode===null)throw Error(c(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(te){Oe(e,e.return,te)}}break;case 3:if(Et(t,e),It(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(t.containerInfo)}catch(te){Oe(e,e.return,te)}break;case 4:Et(t,e),It(e);break;case 13:Et(t,e),It(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Jl=Me())),n&4&&Qc(e);break;case 22:if(M=r!==null&&r.memoizedState!==null,e.mode&1?(Xe=(E=Xe)||M,Et(t,e),Xe=E):Et(t,e),It(e),n&8192){if(E=e.memoizedState!==null,(e.stateNode.isHidden=E)&&!M&&(e.mode&1)!==0)for(q=e,M=e.child;M!==null;){for($=q=M;q!==null;){switch(O=q,G=O.child,O.tag){case 0:case 11:case 14:case 15:Un(4,O,O.return);break;case 1:en(O,O.return);var ee=O.stateNode;if(typeof ee.componentWillUnmount=="function"){n=O,r=O.return;try{t=n,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(te){Oe(n,r,te)}}break;case 5:en(O,O.return);break;case 22:if(O.memoizedState!==null){Xc($);continue}}G!==null?(G.return=O,q=G):Xc($)}M=M.sibling}e:for(M=null,$=e;;){if($.tag===5){if(M===null){M=$;try{s=$.stateNode,E?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(m=$.stateNode,h=$.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,m.style.display=Ti("display",u))}catch(te){Oe(e,e.return,te)}}}else if($.tag===6){if(M===null)try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(te){Oe(e,e.return,te)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;M===$&&(M=null),$=$.return}M===$&&(M=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Et(t,e),It(e),n&4&&Qc(e);break;case 21:break;default:Et(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vc(r)){var n=r;break e}r=r.return}throw Error(c(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(un(s,""),n.flags&=-33);var o=Hc(e);Ul(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,m=Hc(e);bl(e,m,u);break;default:throw Error(c(161))}}catch(h){Oe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Of(e,t,r){q=e,Yc(e)}function Yc(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&n){var u=s.memoizedState!==null||Qs;if(!u){var m=s.alternate,h=m!==null&&m.memoizedState!==null||Xe;m=Qs;var E=Xe;if(Qs=u,(Xe=h)&&!E)for(q=s;q!==null;)u=q,h=u.child,u.tag===22&&u.memoizedState!==null?qc(s):h!==null?(h.return=u,q=h):qc(s);for(;o!==null;)q=o,Yc(o),o=o.sibling;q=s,Qs=m,Xe=E}Gc(e)}else(s.subtreeFlags&8772)!==0&&o!==null?(o.return=s,q=o):Gc(e)}}function Gc(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xe||Ks(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Xa(t,o,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xa(t,u,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var E=t.alternate;if(E!==null){var M=E.memoizedState;if(M!==null){var $=M.dehydrated;$!==null&&kn($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Xe||t.flags&512&&Wl(t)}catch(O){Oe(t,t.return,O)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function Xc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function qc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ks(4,t)}catch(h){Oe(t,r,h)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(h){Oe(t,s,h)}}var o=t.return;try{Wl(t)}catch(h){Oe(t,o,h)}break;case 5:var u=t.return;try{Wl(t)}catch(h){Oe(t,u,h)}}}catch(h){Oe(t,t.return,h)}if(t===e){q=null;break}var m=t.sibling;if(m!==null){m.return=t.return,q=m;break}q=t.return}}var Mf=Math.ceil,Ys=se.ReactCurrentDispatcher,Vl=se.ReactCurrentOwner,yt=se.ReactCurrentBatchConfig,we=0,Ue=null,$e=null,Qe=0,ft=0,tn=qt(0),We=0,Vn=null,Er=0,Gs=0,Hl=0,Hn=null,lt=null,Jl=0,rn=1/0,At=null,Xs=!1,Ql=null,sr=null,qs=!1,or=null,Zs=0,Jn=0,Kl=null,eo=-1,to=0;function et(){return(we&6)!==0?Me():eo!==-1?eo:eo=Me()}function lr(e){return(e.mode&1)===0?1:(we&2)!==0&&Qe!==0?Qe&-Qe:xf.transition!==null?(to===0&&(to=Hi()),to):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:ea(e.type)),e)}function Ct(e,t,r,n){if(50<Jn)throw Jn=0,Kl=null,Error(c(185));gn(e,r,n),((we&2)===0||e!==Ue)&&(e===Ue&&((we&2)===0&&(Gs|=r),We===4&&ir(e,Qe)),it(e,n),r===1&&we===0&&(t.mode&1)===0&&(rn=Me()+500,Ts&&er()))}function it(e,t){var r=e.callbackNode;vd(e,t);var n=us(e,e===Ue?Qe:0);if(n===0)r!==null&&bi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bi(r),t===1)e.tag===0?vf(eu.bind(null,e)):$a(eu.bind(null,e)),mf(function(){(we&6)===0&&er()}),r=null;else{switch(Ji(n)){case 1:r=_o;break;case 4:r=Ui;break;case 16:r=ls;break;case 536870912:r=Vi;break;default:r=ls}r=au(r,Zc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zc(e,t){if(eo=-1,to=0,(we&6)!==0)throw Error(c(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var n=us(e,e===Ue?Qe:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=ro(e,n);else{t=n;var s=we;we|=2;var o=ru();(Ue!==e||Qe!==t)&&(At=null,rn=Me()+500,_r(e,t));do try{$f();break}catch(m){tu(e,m)}while(!0);fl(),Ys.current=o,we=s,$e!==null?t=0:(Ue=null,Qe=0,t=We)}if(t!==0){if(t===2&&(s=Po(e),s!==0&&(n=s,t=Yl(e,s))),t===1)throw r=Vn,_r(e,0),ir(e,n),it(e,Me()),r;if(t===6)ir(e,n);else{if(s=e.current.alternate,(n&30)===0&&!Ff(s)&&(t=ro(e,n),t===2&&(o=Po(e),o!==0&&(n=o,t=Yl(e,o))),t===1))throw r=Vn,_r(e,0),ir(e,n),it(e,Me()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(c(345));case 2:Pr(e,lt,At);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=Jl+500-Me(),10<t)){if(us(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tl(Pr.bind(null,e,lt,At),t);break}Pr(e,lt,At);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var u=31-wt(n);o=1<<u,u=t[u],u>s&&(s=u),n&=~o}if(n=s,n=Me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mf(n/1960))-n,10<n){e.timeoutHandle=tl(Pr.bind(null,e,lt,At),n);break}Pr(e,lt,At);break;case 5:Pr(e,lt,At);break;default:throw Error(c(329))}}}return it(e,Me()),e.callbackNode===r?Zc.bind(null,e):null}function Yl(e,t){var r=Hn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=ro(e,t),e!==2&&(t=lt,lt=r,t!==null&&Gl(t)),e}function Gl(e){lt===null?lt=e:lt.push.apply(lt,e)}function Ff(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!kt(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Hl,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function eu(e){if((we&6)!==0)throw Error(c(327));nn();var t=us(e,0);if((t&1)===0)return it(e,Me()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var n=Po(e);n!==0&&(t=n,r=Yl(e,n))}if(r===1)throw r=Vn,_r(e,0),ir(e,t),it(e,Me()),r;if(r===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,lt,At),it(e,Me()),null}function Xl(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(rn=Me()+500,Ts&&er())}}function Cr(e){or!==null&&or.tag===0&&(we&6)===0&&nn();var t=we;we|=1;var r=yt.transition,n=Ce;try{if(yt.transition=null,Ce=1,e)return e()}finally{Ce=n,yt.transition=r,we=t,(we&6)===0&&er()}}function ql(){ft=tn.current,Le(tn)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pf(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_s();break;case 3:qr(),Le(nt),Le(Ke),wl();break;case 5:vl(n);break;case 4:qr();break;case 13:Le(ze);break;case 19:Le(ze);break;case 10:pl(n.type._context);break;case 22:case 23:ql()}r=r.return}if(Ue=e,$e=e=ar(e.current,null),Qe=ft=t,We=0,Vn=null,Hl=Gs=Er=0,lt=Hn=null,Sr!==null){for(t=0;t<Sr.length;t++)if(r=Sr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var u=o.next;o.next=s,n.next=u}r.pending=n}Sr=null}return e}function tu(e,t){do{var r=$e;try{if(fl(),$s.current=Us,As){for(var n=De.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}As=!1}if(jr=0,be=Ae=De=null,Bn=!1,$n=0,Vl.current=null,r===null||r.return===null){We=1,Vn=t,$e=null;break}e:{var o=e,u=r.return,m=r,h=t;if(t=Qe,m.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var E=h,M=m,$=M.tag;if((M.mode&1)===0&&($===0||$===11||$===15)){var O=M.alternate;O?(M.updateQueue=O.updateQueue,M.memoizedState=O.memoizedState,M.lanes=O.lanes):(M.updateQueue=null,M.memoizedState=null)}var G=Cc(u);if(G!==null){G.flags&=-257,_c(G,u,m,o,t),G.mode&1&&Ec(o,E,t),t=G,h=E;var ee=t.updateQueue;if(ee===null){var te=new Set;te.add(h),t.updateQueue=te}else ee.add(h);break e}else{if((t&1)===0){Ec(o,E,t),Zl();break e}h=Error(c(426))}}else if(Re&&m.mode&1){var Fe=Cc(u);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),_c(Fe,u,m,o,t),ul(Zr(h,m));break e}}o=h=Zr(h,m),We!==4&&(We=2),Hn===null?Hn=[o]:Hn.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=Nc(o,h,t);Ga(o,S);break e;case 1:m=h;var v=o.type,j=o.stateNode;if((o.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(sr===null||!sr.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var W=jc(o,m,t);Ga(o,W);break e}}o=o.return}while(o!==null)}su(r)}catch(re){t=re,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function ru(){var e=Ys.current;return Ys.current=Us,e===null?Us:e}function Zl(){(We===0||We===3||We===2)&&(We=4),Ue===null||(Er&268435455)===0&&(Gs&268435455)===0||ir(Ue,Qe)}function ro(e,t){var r=we;we|=2;var n=ru();(Ue!==e||Qe!==t)&&(At=null,_r(e,t));do try{Bf();break}catch(s){tu(e,s)}while(!0);if(fl(),we=r,Ys.current=n,$e!==null)throw Error(c(261));return Ue=null,Qe=0,We}function Bf(){for(;$e!==null;)nu($e)}function $f(){for(;$e!==null&&!cd();)nu($e)}function nu(e){var t=iu(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?su(e):$e=t,Vl.current=null}function su(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=If(r,t,ft),r!==null){$e=r;return}}else{if(r=Rf(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,$e=null;return}}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);We===0&&(We=5)}function Pr(e,t,r){var n=Ce,s=yt.transition;try{yt.transition=null,Ce=1,Af(e,t,r,n)}finally{yt.transition=s,Ce=n}return null}function Af(e,t,r,n){do nn();while(or!==null);if((we&6)!==0)throw Error(c(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(xd(e,o),e===Ue&&($e=Ue=null,Qe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||qs||(qs=!0,au(ls,function(){return nn(),null})),o=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||o){o=yt.transition,yt.transition=null;var u=Ce;Ce=1;var m=we;we|=4,Vl.current=null,Df(e,r),Kc(r,e),of(Zo),ps=!!qo,Zo=qo=null,e.current=r,Of(r),ud(),we=m,Ce=u,yt.transition=o}else e.current=r;if(qs&&(qs=!1,or=e,Zs=s),o=e.pendingLanes,o===0&&(sr=null),pd(r.stateNode),it(e,Me()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xs)throw Xs=!1,e=Ql,Ql=null,e;return(Zs&1)!==0&&e.tag!==0&&nn(),o=e.pendingLanes,(o&1)!==0?e===Kl?Jn++:(Jn=0,Kl=e):Jn=0,er(),null}function nn(){if(or!==null){var e=Ji(Zs),t=yt.transition,r=Ce;try{if(yt.transition=null,Ce=16>e?16:e,or===null)var n=!1;else{if(e=or,or=null,Zs=0,(we&6)!==0)throw Error(c(331));var s=we;for(we|=4,q=e.current;q!==null;){var o=q,u=o.child;if((q.flags&16)!==0){var m=o.deletions;if(m!==null){for(var h=0;h<m.length;h++){var E=m[h];for(q=E;q!==null;){var M=q;switch(M.tag){case 0:case 11:case 15:Un(8,M,o)}var $=M.child;if($!==null)$.return=M,q=$;else for(;q!==null;){M=q;var O=M.sibling,G=M.return;if(Uc(M),M===E){q=null;break}if(O!==null){O.return=G,q=O;break}q=G}}}var ee=o.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Fe=te.sibling;te.sibling=null,te=Fe}while(te!==null)}}q=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,q=u;else e:for(;q!==null;){if(o=q,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Un(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,q=S;break e}q=o.return}}var v=e.current;for(q=v;q!==null;){u=q;var j=u.child;if((u.subtreeFlags&2064)!==0&&j!==null)j.return=u,q=j;else e:for(u=v;q!==null;){if(m=q,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Ks(9,m)}}catch(re){Oe(m,m.return,re)}if(m===u){q=null;break e}var W=m.sibling;if(W!==null){W.return=m.return,q=W;break e}q=m.return}}if(we=s,er(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(is,e)}catch{}n=!0}return n}finally{Ce=r,yt.transition=t}}return!1}function ou(e,t,r){t=Zr(r,t),t=Nc(e,t,1),e=rr(e,t,1),t=et(),e!==null&&(gn(e,1,t),it(e,t))}function Oe(e,t,r){if(e.tag===3)ou(e,e,r);else for(;t!==null;){if(t.tag===3){ou(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sr===null||!sr.has(n))){e=Zr(r,e),e=jc(t,e,1),t=rr(t,e,1),e=et(),t!==null&&(gn(t,1,e),it(t,e));break}}t=t.return}}function Wf(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Ue===e&&(Qe&r)===r&&(We===4||We===3&&(Qe&130023424)===Qe&&500>Me()-Jl?_r(e,0):Hl|=r),it(e,t)}function lu(e,t){t===0&&((e.mode&1)===0?t=1:(t=cs,cs<<=1,(cs&130023424)===0&&(cs=4194304)));var r=et();e=Ft(e,t),e!==null&&(gn(e,t,r),it(e,r))}function bf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lu(e,r)}function Uf(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(c(314))}n!==null&&n.delete(t),lu(e,r)}var iu;iu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)ot=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ot=!1,Lf(e,t,r);ot=(e.flags&131072)!==0}else ot=!1,Re&&(t.flags&1048576)!==0&&Aa(t,Is,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Js(e,t),e=t.pendingProps;var s=Hr(t,Ke.current);Xr(t,r),s=Nl(null,t,n,e,s,r);var o=jl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(o=!0,Ps(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gl(t),s.updater=Vs,t.stateNode=s,s._reactInternals=t,Ll(t,n,e,r),t=Dl(null,t,n,!0,o,r)):(t.tag=0,Re&&o&&ll(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Hf(n),e=Nt(n,e),s){case 0:t=zl(null,t,n,e,r);break e;case 1:t=zc(null,t,n,e,r);break e;case 11:t=Pc(null,t,n,e,r);break e;case 14:t=Tc(null,t,n,Nt(n.type,e),r);break e}throw Error(c(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),zl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),zc(e,t,n,s,r);case 3:e:{if(Dc(t),e===null)throw Error(c(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Ya(e,t),Fs(t,n,null,r);var u=t.memoizedState;if(n=u.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zr(Error(c(423)),t),t=Oc(e,t,n,r,s);break e}else if(n!==s){s=Zr(Error(c(424)),t),t=Oc(e,t,n,r,s);break e}else for(dt=Xt(t.stateNode.containerInfo.firstChild),ut=t,Re=!0,St=null,r=Qa(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){t=$t(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return qa(t),e===null&&cl(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,u=s.children,el(n,s)?u=null:o!==null&&el(n,o)&&(t.flags|=32),Rc(e,t),Ze(e,t,u,r),t.child;case 6:return e===null&&cl(t),null;case 13:return Mc(e,t,r);case 4:return yl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yr(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Pc(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,u=s.value,_e(Ds,n._currentValue),n._currentValue=u,o!==null)if(kt(o.value,u)){if(o.children===s.children&&!nt.current){t=$t(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var m=o.dependencies;if(m!==null){u=o.child;for(var h=m.firstContext;h!==null;){if(h.context===n){if(o.tag===1){h=Bt(-1,r&-r),h.tag=2;var E=o.updateQueue;if(E!==null){E=E.shared;var M=E.pending;M===null?h.next=h:(h.next=M.next,M.next=h),E.pending=h}}o.lanes|=r,h=o.alternate,h!==null&&(h.lanes|=r),ml(o.return,r,t),m.lanes|=r;break}h=h.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(c(341));u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),ml(u,r,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xr(t,r),s=ht(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=Nt(n,t.pendingProps),s=Nt(n.type,s),Tc(e,t,n,s,r);case 15:return Lc(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Js(e,t),t.tag=1,st(n)?(e=!0,Ps(t)):e=!1,Xr(t,r),kc(t,n,s),Ll(t,n,s,r),Dl(null,t,n,!0,e,r);case 19:return Bc(e,t,r);case 22:return Ic(e,t,r)}throw Error(c(156,t.tag))};function au(e,t){return Wi(e,t)}function Vf(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,n){return new Vf(e,t,r,n)}function ei(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hf(e){if(typeof e=="function")return ei(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===Ee)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function no(e,t,r,n,s,o){var u=2;if(n=e,typeof e=="function")ei(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Z:return Tr(r.children,s,o,t);case H:u=8,s|=8;break;case pe:return e=vt(12,r,t,s|2),e.elementType=pe,e.lanes=o,e;case ae:return e=vt(13,r,t,s),e.elementType=ae,e.lanes=o,e;case fe:return e=vt(19,r,t,s),e.elementType=fe,e.lanes=o,e;case Se:return so(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:u=10;break e;case me:u=9;break e;case oe:u=11;break e;case Ee:u=14;break e;case ke:u=16,n=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=vt(u,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Tr(e,t,r,n){return e=vt(7,e,n,t),e.lanes=r,e}function so(e,t,r,n){return e=vt(22,e,n,t),e.elementType=Se,e.lanes=r,e.stateNode={isHidden:!1},e}function ti(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function ri(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jf(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ni(e,t,r,n,s,o,u,m,h){return e=new Jf(e,t,r,m,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gl(o),e}function Qf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function cu(e){if(!e)return Zt;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var r=e.type;if(st(r))return Fa(e,r,t)}return t}function uu(e,t,r,n,s,o,u,m,h){return e=ni(r,n,!0,e,s,o,u,m,h),e.context=cu(null),r=e.current,n=et(),s=lr(r),o=Bt(n,s),o.callback=t??null,rr(r,o,s),e.current.lanes=s,gn(e,s,n),it(e,n),e}function oo(e,t,r,n){var s=t.current,o=et(),u=lr(s);return r=cu(r),t.context===null?t.context=r:t.pendingContext=r,t=Bt(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,u),e!==null&&(Ct(e,s,u,o),Ms(e,s,u)),u}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function si(e,t){du(e,t),(e=e.alternate)&&du(e,t)}function Kf(){return null}var fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function oi(e){this._internalRoot=e}io.prototype.render=oi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));oo(e,t,null,null)},io.prototype.unmount=oi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){oo(null,e,null,null)}),t[zt]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yi();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&qi(e)}};function li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function Yf(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var E=lo(u);o.call(E)}}var u=uu(t,n,e,0,null,!1,!1,"",pu);return e._reactRootContainer=u,e[zt]=u.current,Ln(e.nodeType===8?e.parentNode:e),Cr(),u}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var m=n;n=function(){var E=lo(h);m.call(E)}}var h=ni(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=h,e[zt]=h.current,Ln(e.nodeType===8?e.parentNode:e),Cr(function(){oo(t,h,r,n)}),h}function co(e,t,r,n,s){var o=r._reactRootContainer;if(o){var u=o;if(typeof s=="function"){var m=s;s=function(){var h=lo(u);m.call(h)}}oo(t,u,e,s)}else u=Yf(r,t,e,s,n);return lo(u)}Qi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hn(t.pendingLanes);r!==0&&(Lo(t,r|1),it(t,Me()),(we&6)===0&&(rn=Me()+500,er()))}break;case 13:Cr(function(){var n=Ft(e,1);if(n!==null){var s=et();Ct(n,e,1,s)}}),si(e,1)}},Io=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=et();Ct(t,e,134217728,r)}si(e,134217728)}},Ki=function(e){if(e.tag===13){var t=lr(e),r=Ft(e,t);if(r!==null){var n=et();Ct(r,e,t,n)}si(e,t)}},Yi=function(){return Ce},Gi=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}},No=function(e,t,r){switch(t){case"input":if(Rt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Cs(n);if(!s)throw Error(c(90));ve(n),Rt(n,s)}}}break;case"textarea":Ei(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}},Di=Xl,Oi=Cr;var Gf={usingClientEntryPoint:!1,Events:[zn,Ur,Cs,Ri,zi,Xl]},Qn={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xf={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$i(e),e===null?null:e.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||Kf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{is=uo.inject(Xf),_t=uo}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf,at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!li(t))throw Error(c(200));return Qf(e,t,null,r)},at.createRoot=function(e,t){if(!li(e))throw Error(c(299));var r=!1,n="",s=fu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ni(e,1,!1,null,null,r,!1,n,s),e[zt]=t.current,Ln(e.nodeType===8?e.parentNode:e),new oi(t)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=$i(t),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Cr(e)},at.hydrate=function(e,t,r){if(!ao(t))throw Error(c(200));return co(null,e,t,!0,r)},at.hydrateRoot=function(e,t,r){if(!li(e))throw Error(c(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",u=fu;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=uu(t,null,e,1,r??null,s,!1,o,u),e[zt]=t.current,Ln(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new io(t)},at.render=function(e,t,r){if(!ao(t))throw Error(c(200));return co(null,e,t,!1,r)},at.unmountComponentAtNode=function(e){if(!ao(e))throw Error(c(40));return e._reactRootContainer?(Cr(function(){co(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},at.unstable_batchedUpdates=Xl,at.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ao(r))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return co(e,t,r,!1,n)},at.version="18.3.1-next-f1338f8080-20240426",at}var ku;function bu(){if(ku)return ci.exports;ku=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),ci.exports=ap(),ci.exports}var Su;function cp(){if(Su)return fo;Su=1;var i=bu();return fo.createRoot=i.createRoot,fo.hydrateRoot=i.hydrateRoot,fo}var up=cp();const dp=Au(up);bu();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(i[f]=c[f])}return i},Zn.apply(this,arguments)}var fr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(fr||(fr={}));const Nu="popstate";function fp(i){i===void 0&&(i={});function a(f,d){let{pathname:p,search:g,hash:k}=f.location;return pi("",{pathname:p,search:g,hash:k},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function c(f,d){return typeof d=="string"?d:mo(d)}return mp(a,c,null,i)}function Be(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Uu(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function pp(){return Math.random().toString(36).substr(2,8)}function ju(i,a){return{usr:i.state,key:i.key,idx:a}}function pi(i,a,c,f){return c===void 0&&(c=null),Zn({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof a=="string"?ln(a):a,{state:c,key:a&&a.key||f||pp()})}function mo(i){let{pathname:a="/",search:c="",hash:f=""}=i;return c&&c!=="?"&&(a+=c.charAt(0)==="?"?c:"?"+c),f&&f!=="#"&&(a+=f.charAt(0)==="#"?f:"#"+f),a}function ln(i){let a={};if(i){let c=i.indexOf("#");c>=0&&(a.hash=i.substr(c),i=i.substr(0,c));let f=i.indexOf("?");f>=0&&(a.search=i.substr(f),i=i.substr(0,f)),i&&(a.pathname=i)}return a}function mp(i,a,c,f){f===void 0&&(f={});let{window:d=document.defaultView,v5Compat:p=!1}=f,g=d.history,k=fr.Pop,x=null,I=N();I==null&&(I=0,g.replaceState(Zn({},g.state,{idx:I}),""));function N(){return(g.state||{idx:null}).idx}function P(){k=fr.Pop;let _=N(),ne=_==null?null:_-I;I=_,x&&x({action:k,location:b.location,delta:ne})}function D(_,ne){k=fr.Push;let U=pi(b.location,_,ne);I=N()+1;let X=ju(U,I),se=b.createHref(U);try{g.pushState(X,"",se)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;d.location.assign(se)}p&&x&&x({action:k,location:b.location,delta:1})}function V(_,ne){k=fr.Replace;let U=pi(b.location,_,ne);I=N();let X=ju(U,I),se=b.createHref(U);g.replaceState(X,"",se),p&&x&&x({action:k,location:b.location,delta:0})}function J(_){let ne=d.location.origin!=="null"?d.location.origin:d.location.href,U=typeof _=="string"?_:mo(_);return U=U.replace(/ $/,"%20"),Be(ne,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,ne)}let b={get action(){return k},get location(){return i(d,g)},listen(_){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(Nu,P),x=_,()=>{d.removeEventListener(Nu,P),x=null}},createHref(_){return a(d,_)},createURL:J,encodeLocation(_){let ne=J(_);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:D,replace:V,go(_){return g.go(_)}};return b}var Eu;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Eu||(Eu={}));function hp(i,a,c){return c===void 0&&(c="/"),gp(i,a,c)}function gp(i,a,c,f){let d=typeof a=="string"?ln(a):a,p=vi(d.pathname||"/",c);if(p==null)return null;let g=Vu(i);yp(g);let k=null;for(let x=0;k==null&&x<g.length;++x){let I=Tp(p);k=Cp(g[x],I)}return k}function Vu(i,a,c,f){a===void 0&&(a=[]),c===void 0&&(c=[]),f===void 0&&(f="");let d=(p,g,k)=>{let x={relativePath:k===void 0?p.path||"":k,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};x.relativePath.startsWith("/")&&(Be(x.relativePath.startsWith(f),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+f+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(f.length));let I=pr([f,x.relativePath]),N=c.concat(x);p.children&&p.children.length>0&&(Be(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+I+'".')),Vu(p.children,a,N,I)),!(p.path==null&&!p.index)&&a.push({path:I,score:jp(I,p.index),routesMeta:N})};return i.forEach((p,g)=>{var k;if(p.path===""||!((k=p.path)!=null&&k.includes("?")))d(p,g);else for(let x of Hu(p.path))d(p,g,x)}),a}function Hu(i){let a=i.split("/");if(a.length===0)return[];let[c,...f]=a,d=c.endsWith("?"),p=c.replace(/\?$/,"");if(f.length===0)return d?[p,""]:[p];let g=Hu(f.join("/")),k=[];return k.push(...g.map(x=>x===""?p:[p,x].join("/"))),d&&k.push(...g),k.map(x=>i.startsWith("/")&&x===""?"/":x)}function yp(i){i.sort((a,c)=>a.score!==c.score?c.score-a.score:Ep(a.routesMeta.map(f=>f.childrenIndex),c.routesMeta.map(f=>f.childrenIndex)))}const vp=/^:[\w-]+$/,xp=3,wp=2,kp=1,Sp=10,Np=-2,Cu=i=>i==="*";function jp(i,a){let c=i.split("/"),f=c.length;return c.some(Cu)&&(f+=Np),a&&(f+=wp),c.filter(d=>!Cu(d)).reduce((d,p)=>d+(vp.test(p)?xp:p===""?kp:Sp),f)}function Ep(i,a){return i.length===a.length&&i.slice(0,-1).every((f,d)=>f===a[d])?i[i.length-1]-a[a.length-1]:0}function Cp(i,a,c){let{routesMeta:f}=i,d={},p="/",g=[];for(let k=0;k<f.length;++k){let x=f[k],I=k===f.length-1,N=p==="/"?a:a.slice(p.length)||"/",P=_p({path:x.relativePath,caseSensitive:x.caseSensitive,end:I},N),D=x.route;if(!P)return null;Object.assign(d,P.params),g.push({params:d,pathname:pr([p,P.pathname]),pathnameBase:zp(pr([p,P.pathnameBase])),route:D}),P.pathnameBase!=="/"&&(p=pr([p,P.pathnameBase]))}return g}function _p(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[c,f]=Pp(i.path,i.caseSensitive,i.end),d=a.match(c);if(!d)return null;let p=d[0],g=p.replace(/(.)\/+$/,"$1"),k=d.slice(1);return{params:f.reduce((I,N,P)=>{let{paramName:D,isOptional:V}=N;if(D==="*"){let b=k[P]||"";g=p.slice(0,p.length-b.length).replace(/(.)\/+$/,"$1")}const J=k[P];return V&&!J?I[D]=void 0:I[D]=(J||"").replace(/%2F/g,"/"),I},{}),pathname:p,pathnameBase:g,pattern:i}}function Pp(i,a,c){a===void 0&&(a=!1),c===void 0&&(c=!0),Uu(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let f=[],d="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,k,x)=>(f.push({paramName:k,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(f.push({paramName:"*"}),d+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?d+="\\/*$":i!==""&&i!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),f]}function Tp(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Uu(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),i}}function vi(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let c=a.endsWith("/")?a.length-1:a.length,f=i.charAt(c);return f&&f!=="/"?null:i.slice(c)||"/"}function Lp(i,a){a===void 0&&(a="/");let{pathname:c,search:f="",hash:d=""}=typeof i=="string"?ln(i):i;return{pathname:c?c.startsWith("/")?c:Ip(c,a):a,search:Dp(f),hash:Op(d)}}function Ip(i,a){let c=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(d=>{d===".."?c.length>1&&c.pop():d!=="."&&c.push(d)}),c.length>1?c.join("/"):"/"}function fi(i,a,c,f){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(f)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rp(i){return i.filter((a,c)=>c===0||a.route.path&&a.route.path.length>0)}function xi(i,a){let c=Rp(i);return a?c.map((f,d)=>d===c.length-1?f.pathname:f.pathnameBase):c.map(f=>f.pathnameBase)}function wi(i,a,c,f){f===void 0&&(f=!1);let d;typeof i=="string"?d=ln(i):(d=Zn({},i),Be(!d.pathname||!d.pathname.includes("?"),fi("?","pathname","search",d)),Be(!d.pathname||!d.pathname.includes("#"),fi("#","pathname","hash",d)),Be(!d.search||!d.search.includes("#"),fi("#","search","hash",d)));let p=i===""||d.pathname==="",g=p?"/":d.pathname,k;if(g==null)k=c;else{let P=a.length-1;if(!f&&g.startsWith("..")){let D=g.split("/");for(;D[0]==="..";)D.shift(),P-=1;d.pathname=D.join("/")}k=P>=0?a[P]:"/"}let x=Lp(d,k),I=g&&g!=="/"&&g.endsWith("/"),N=(p||g===".")&&c.endsWith("/");return!x.pathname.endsWith("/")&&(I||N)&&(x.pathname+="/"),x}const pr=i=>i.join("/").replace(/\/\/+/g,"/"),zp=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Dp=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Op=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Mp(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Ju=["post","put","patch","delete"];new Set(Ju);const Fp=["get",...Ju];new Set(Fp);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(i[f]=c[f])}return i},es.apply(this,arguments)}const ki=w.createContext(null),Bp=w.createContext(null),mr=w.createContext(null),ho=w.createContext(null),bt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Qu=w.createContext(null);function $p(i,a){let{relative:c}=a===void 0?{}:a;an()||Be(!1);let{basename:f,navigator:d}=w.useContext(mr),{hash:p,pathname:g,search:k}=Yu(i,{relative:c}),x=g;return f!=="/"&&(x=g==="/"?f:pr([f,g])),d.createHref({pathname:x,search:k,hash:p})}function an(){return w.useContext(ho)!=null}function rs(){return an()||Be(!1),w.useContext(ho).location}function Ku(i){w.useContext(mr).static||w.useLayoutEffect(i)}function hr(){let{isDataRoute:i}=w.useContext(bt);return i?qp():Ap()}function Ap(){an()||Be(!1);let i=w.useContext(ki),{basename:a,future:c,navigator:f}=w.useContext(mr),{matches:d}=w.useContext(bt),{pathname:p}=rs(),g=JSON.stringify(xi(d,c.v7_relativeSplatPath)),k=w.useRef(!1);return Ku(()=>{k.current=!0}),w.useCallback(function(I,N){if(N===void 0&&(N={}),!k.current)return;if(typeof I=="number"){f.go(I);return}let P=wi(I,JSON.parse(g),p,N.relative==="path");i==null&&a!=="/"&&(P.pathname=P.pathname==="/"?a:pr([a,P.pathname])),(N.replace?f.replace:f.push)(P,N.state,N)},[a,f,g,p,i])}function Si(){let{matches:i}=w.useContext(bt),a=i[i.length-1];return a?a.params:{}}function Yu(i,a){let{relative:c}=a===void 0?{}:a,{future:f}=w.useContext(mr),{matches:d}=w.useContext(bt),{pathname:p}=rs(),g=JSON.stringify(xi(d,f.v7_relativeSplatPath));return w.useMemo(()=>wi(i,JSON.parse(g),p,c==="path"),[i,g,p,c])}function Wp(i,a){return bp(i,a)}function bp(i,a,c,f){an()||Be(!1);let{navigator:d}=w.useContext(mr),{matches:p}=w.useContext(bt),g=p[p.length-1],k=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let I=rs(),N;if(a){var P;let _=typeof a=="string"?ln(a):a;x==="/"||(P=_.pathname)!=null&&P.startsWith(x)||Be(!1),N=_}else N=I;let D=N.pathname||"/",V=D;if(x!=="/"){let _=x.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(_.length).join("/")}let J=hp(i,{pathname:V}),b=Qp(J&&J.map(_=>Object.assign({},_,{params:Object.assign({},k,_.params),pathname:pr([x,d.encodeLocation?d.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?x:pr([x,d.encodeLocation?d.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),p,c,f);return a&&b?w.createElement(ho.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:fr.Pop}},b):b}function Up(){let i=Xp(),a=Mp(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),c=i instanceof Error?i.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},a),c?w.createElement("pre",{style:d},c):null,null)}const Vp=w.createElement(Up,null);class Hp extends w.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,c){return c.location!==a.location||c.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:c.error,location:c.location,revalidation:a.revalidation||c.revalidation}}componentDidCatch(a,c){console.error("React Router caught the following error during render",a,c)}render(){return this.state.error!==void 0?w.createElement(bt.Provider,{value:this.props.routeContext},w.createElement(Qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jp(i){let{routeContext:a,match:c,children:f}=i,d=w.useContext(ki);return d&&d.static&&d.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=c.route.id),w.createElement(bt.Provider,{value:a},f)}function Qp(i,a,c,f){var d;if(a===void 0&&(a=[]),c===void 0&&(c=null),f===void 0&&(f=null),i==null){var p;if(!c)return null;if(c.errors)i=c.matches;else if((p=f)!=null&&p.v7_partialHydration&&a.length===0&&!c.initialized&&c.matches.length>0)i=c.matches;else return null}let g=i,k=(d=c)==null?void 0:d.errors;if(k!=null){let N=g.findIndex(P=>P.route.id&&(k==null?void 0:k[P.route.id])!==void 0);N>=0||Be(!1),g=g.slice(0,Math.min(g.length,N+1))}let x=!1,I=-1;if(c&&f&&f.v7_partialHydration)for(let N=0;N<g.length;N++){let P=g[N];if((P.route.HydrateFallback||P.route.hydrateFallbackElement)&&(I=N),P.route.id){let{loaderData:D,errors:V}=c,J=P.route.loader&&D[P.route.id]===void 0&&(!V||V[P.route.id]===void 0);if(P.route.lazy||J){x=!0,I>=0?g=g.slice(0,I+1):g=[g[0]];break}}}return g.reduceRight((N,P,D)=>{let V,J=!1,b=null,_=null;c&&(V=k&&P.route.id?k[P.route.id]:void 0,b=P.route.errorElement||Vp,x&&(I<0&&D===0?(Zp("route-fallback"),J=!0,_=null):I===D&&(J=!0,_=P.route.hydrateFallbackElement||null)));let ne=a.concat(g.slice(0,D+1)),U=()=>{let X;return V?X=b:J?X=_:P.route.Component?X=w.createElement(P.route.Component,null):P.route.element?X=P.route.element:X=N,w.createElement(Jp,{match:P,routeContext:{outlet:N,matches:ne,isDataRoute:c!=null},children:X})};return c&&(P.route.ErrorBoundary||P.route.errorElement||D===0)?w.createElement(Hp,{location:c.location,revalidation:c.revalidation,component:b,error:V,children:U(),routeContext:{outlet:null,matches:ne,isDataRoute:!0}}):U()},null)}var Gu=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Gu||{}),Xu=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(Xu||{});function Kp(i){let a=w.useContext(ki);return a||Be(!1),a}function Yp(i){let a=w.useContext(Bp);return a||Be(!1),a}function Gp(i){let a=w.useContext(bt);return a||Be(!1),a}function qu(i){let a=Gp(),c=a.matches[a.matches.length-1];return c.route.id||Be(!1),c.route.id}function Xp(){var i;let a=w.useContext(Qu),c=Yp(),f=qu();return a!==void 0?a:(i=c.errors)==null?void 0:i[f]}function qp(){let{router:i}=Kp(Gu.UseNavigateStable),a=qu(Xu.UseNavigateStable),c=w.useRef(!1);return Ku(()=>{c.current=!0}),w.useCallback(function(d,p){p===void 0&&(p={}),c.current&&(typeof d=="number"?i.navigate(d):i.navigate(d,es({fromRouteId:a},p)))},[i,a])}const _u={};function Zp(i,a,c){_u[i]||(_u[i]=!0)}const Pu={};function em(i,a){Pu[a]||(Pu[a]=!0,console.warn(a))}const Tu=(i,a,c)=>em(i," React Router Future Flag Warning: "+a+". "+("You can use the `"+i+"` future flag to opt-in early. ")+("For more information, see "+c+"."));function tm(i,a){(i==null?void 0:i.v7_startTransition)===void 0&&Tu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(i==null?void 0:i.v7_relativeSplatPath)===void 0&&Tu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Yn(i){let{to:a,replace:c,state:f,relative:d}=i;an()||Be(!1);let{future:p,static:g}=w.useContext(mr),{matches:k}=w.useContext(bt),{pathname:x}=rs(),I=hr(),N=wi(a,xi(k,p.v7_relativeSplatPath),x,d==="path"),P=JSON.stringify(N);return w.useEffect(()=>I(JSON.parse(P),{replace:c,state:f,relative:d}),[I,P,d,c,f]),null}function ur(i){Be(!1)}function rm(i){let{basename:a="/",children:c=null,location:f,navigationType:d=fr.Pop,navigator:p,static:g=!1,future:k}=i;an()&&Be(!1);let x=a.replace(/^\/*/,"/"),I=w.useMemo(()=>({basename:x,navigator:p,static:g,future:es({v7_relativeSplatPath:!1},k)}),[x,k,p,g]);typeof f=="string"&&(f=ln(f));let{pathname:N="/",search:P="",hash:D="",state:V=null,key:J="default"}=f,b=w.useMemo(()=>{let _=vi(N,x);return _==null?null:{location:{pathname:_,search:P,hash:D,state:V,key:J},navigationType:d}},[x,N,P,D,V,J,d]);return b==null?null:w.createElement(mr.Provider,{value:I},w.createElement(ho.Provider,{children:c,value:b}))}function nm(i){let{children:a,location:c}=i;return Wp(mi(a),c)}new Promise(()=>{});function mi(i,a){a===void 0&&(a=[]);let c=[];return w.Children.forEach(i,(f,d)=>{if(!w.isValidElement(f))return;let p=[...a,d];if(f.type===w.Fragment){c.push.apply(c,mi(f.props.children,p));return}f.type!==ur&&Be(!1),!f.props.index||!f.props.children||Be(!1);let g={id:f.props.id||p.join("-"),caseSensitive:f.props.caseSensitive,element:f.props.element,Component:f.props.Component,index:f.props.index,path:f.props.path,loader:f.props.loader,action:f.props.action,errorElement:f.props.errorElement,ErrorBoundary:f.props.ErrorBoundary,hasErrorBoundary:f.props.ErrorBoundary!=null||f.props.errorElement!=null,shouldRevalidate:f.props.shouldRevalidate,handle:f.props.handle,lazy:f.props.lazy};f.props.children&&(g.children=mi(f.props.children,p)),c.push(g)}),c}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(i[f]=c[f])}return i},hi.apply(this,arguments)}function sm(i,a){if(i==null)return{};var c={},f=Object.keys(i),d,p;for(p=0;p<f.length;p++)d=f[p],!(a.indexOf(d)>=0)&&(c[d]=i[d]);return c}function om(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lm(i,a){return i.button===0&&(!a||a==="_self")&&!om(i)}const im=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],am="6";try{window.__reactRouterVersion=am}catch{}const cm="startTransition",Lu=op[cm];function um(i){let{basename:a,children:c,future:f,window:d}=i,p=w.useRef();p.current==null&&(p.current=fp({window:d,v5Compat:!0}));let g=p.current,[k,x]=w.useState({action:g.action,location:g.location}),{v7_startTransition:I}=f||{},N=w.useCallback(P=>{I&&Lu?Lu(()=>x(P)):x(P)},[x,I]);return w.useLayoutEffect(()=>g.listen(N),[g,N]),w.useEffect(()=>tm(f),[f]),w.createElement(rm,{basename:a,children:c,location:k.location,navigationType:k.action,navigator:g,future:f})}const dm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=w.forwardRef(function(a,c){let{onClick:f,relative:d,reloadDocument:p,replace:g,state:k,target:x,to:I,preventScrollReset:N,viewTransition:P}=a,D=sm(a,im),{basename:V}=w.useContext(mr),J,b=!1;if(typeof I=="string"&&fm.test(I)&&(J=I,dm))try{let X=new URL(window.location.href),se=I.startsWith("//")?new URL(X.protocol+I):new URL(I),ge=vi(se.pathname,V);se.origin===X.origin&&ge!=null?I=ge+se.search+se.hash:b=!0}catch{}let _=$p(I,{relative:d}),ne=pm(I,{replace:g,state:k,target:x,preventScrollReset:N,relative:d,viewTransition:P});function U(X){f&&f(X),X.defaultPrevented||ne(X)}return w.createElement("a",hi({},D,{href:J||_,onClick:b||p?f:U,ref:c,target:x}))});var Iu;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Iu||(Iu={}));var Ru;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Ru||(Ru={}));function pm(i,a){let{target:c,replace:f,state:d,preventScrollReset:p,relative:g,viewTransition:k}=a===void 0?{}:a,x=hr(),I=rs(),N=Yu(i,{relative:g});return w.useCallback(P=>{if(lm(P,c)){P.preventDefault();let D=f!==void 0?f:mo(I)===mo(N);x(i,{replace:D,state:d,preventScrollReset:p,relative:g,viewTransition:k})}},[I,x,N,f,d,c,i,p,g,k])}const qe=({type:i="info",children:a,className:c="",onDismiss:f,dismissible:d=!1,...p})=>{let g="alert ",k;switch(i){case"error":g+="alert-error ",k=l.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break;case"success":g+="alert-success ",k=l.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});break;case"warning":g+="bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300 border-l-4 border-yellow-500 ",k=l.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});break;case"info":default:g+="alert-info ",k=l.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break}return g+=c,l.jsx("div",{className:g,...p,children:l.jsxs("div",{className:"flex items-center",children:[k,l.jsx("div",{className:"flex-1",children:a}),d&&l.jsx("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 hover:bg-black/10","aria-label":"Close",onClick:f,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})},ye=({variant:i="primary",rounded:a=!1,loading:c=!1,disabled:f=!1,fullWidth:d=!1,size:p="md",children:g,className:k="",onClick:x,...I})=>{let N="btn transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ";switch(i){case"primary":N+="btn-primary ";break;case"secondary":N+="btn-secondary ";break;case"danger":N+="btn-danger ";break;default:N+="btn-primary "}switch(p){case"sm":N+="px-3 py-1 text-sm ";break;case"lg":N+="px-6 py-3 text-lg ";break;default:N+="px-4 py-2 "}return a&&(N+="btn-rounded "),d&&(N+="w-full "),f&&(N+="opacity-50 cursor-not-allowed "),N+=k,l.jsx("button",{className:N,disabled:f||c,onClick:x,...I,children:c?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"loading-spinner h-5 w-5 -ml-1 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):g})},tt=({children:i,className:a="",title:c,subtitle:f,gradientHeader:d=!1,headerContent:p,headerAction:g,...k})=>{const x=`card ${a}`,I=d?"card-gradient-header":"bg-gray-50 dark:bg-gray-800 px-6 py-4 border-b dark:border-gray-700",N=c||f||p||g;return l.jsxs("div",{className:x,...k,children:[N&&l.jsx("div",{className:I,children:p||l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[c&&l.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:c}),f&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:f})]}),g&&l.jsx("div",{children:g})]})}),i]})},ts=({id:i,label:a,type:c="text",value:f,onChange:d,error:p,required:g=!1,className:k="",placeholder:x,disabled:I=!1,...N})=>l.jsxs("div",{className:k,children:[a&&l.jsxs("label",{htmlFor:i,className:"form-label",children:[a,g&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("input",{id:i,type:c,value:f,onChange:d,placeholder:x,required:g,disabled:I,className:`form-input ${p?"border-red-500 dark:border-red-500 focus:ring-red-500 focus:border-red-500":""}`,...N}),p&&l.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p})]}),mm=({size:i="md",text:a,fullPage:c=!1,color:f,className:d="",...p})=>{let g;switch(i){case"sm":g="h-4 w-4";break;case"lg":g="h-12 w-12";break;case"md":default:g="h-8 w-8"}const k=`loading-spinner ${g}  ${d}`;return c?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("svg",{className:k,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{color:f||"currentColor"},...p,children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a&&l.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700 dark:text-gray-200",children:a})]})}):l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:k,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{color:f||"currentColor"},...p,children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a&&l.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-200",children:a})]})},hm=({index:i,set:a,onWeightChange:c,onRepsChange:f,onCompletionToggle:d,onRemove:p,canRemove:g=!0,isWorkoutActive:k=!0,editMode:x=!1,...I})=>l.jsx("div",{className:`exercise-set ${a.completed?"exercise-set-completed":""}`,...I,children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx("div",{className:"set-number flex-shrink-0",children:i+1}),l.jsxs("div",{className:"flex items-center justify-center flex-grow mx-6",children:[l.jsxs("div",{className:"flex items-center gap-2 w-1/2 justify-center",children:[l.jsx("input",{type:"number",value:a.weight,className:"form-input w-16",step:"0.5",onChange:N=>c(i,N.target.value)}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Kg"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-1/2 justify-center",children:[l.jsx("input",{type:"number",value:a.reps,className:"form-input w-16",onChange:N=>f(i,N.target.value)}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Reps"})]})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[x&&g&&l.jsx("button",{onClick:N=>{N.stopPropagation(),p()},className:"mr-2 w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Remove set",type:"button",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsx("button",{onClick:()=>d(i),disabled:!k,className:`relative w-10 h-10 rounded-full flex items-center justify-center transition-all ${k?a.completed?"bg-green-100 dark:bg-green-900/40 hover:bg-green-200 dark:hover:bg-green-900/60":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-700 cursor-not-allowed"}`,title:k?"Mark as completed":"Start workout to track sets",children:a.completed&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 dark:text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]})}),gm=({message:i,type:a="success",duration:c=3e3,onDismiss:f,show:d=!0})=>{const[p,g]=w.useState(d);if(w.useEffect(()=>{if(g(d),d&&c){const I=setTimeout(()=>{g(!1),f&&f()},c);return()=>clearTimeout(I)}},[d,c,f]),!p)return null;let k,x;switch(a){case"error":k="notification-error",x=l.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break;case"warning":k="bg-yellow-500 dark:bg-yellow-600",x=l.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});break;case"info":k="bg-blue-500 dark:bg-blue-600",x=l.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break;case"success":default:k="notification-success",x=l.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}return l.jsx("div",{className:`notification ${k}`,children:l.jsxs("div",{className:"flex items-center",children:[x,l.jsx("span",{children:i}),f&&l.jsx("button",{onClick:f,className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg hover:bg-white/10 focus:outline-none",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})},ym=({setUser:i,darkMode:a})=>{const[c,f]=w.useState(""),[d,p]=w.useState(""),[g,k]=w.useState(""),[x,I]=w.useState(!1),N=hr(),P=async D=>{D.preventDefault();try{I(!0);const V=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d}),credentials:"include"}),J=await V.json();if(!V.ok)throw new Error(J.error||"Login failed");localStorage.setItem("user",JSON.stringify(J)),i(J),N("/")}catch(V){k(V.message)}finally{I(!1)}};return l.jsx("div",{className:"max-w-md w-full mx-auto",children:l.jsxs(tt,{children:[l.jsxs("div",{className:"card-gradient-header px-6 py-8 text-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),l.jsx("path",{d:"M5 8h1a4 4 0 0 1 0 8H5"}),l.jsx("path",{d:"M2 8h2v8H2z"}),l.jsx("path",{d:"M20 8h2v8h-2z"}),l.jsx("path",{d:"M7 12h10"})]}),l.jsx("h2",{className:"text-2xl font-bold",children:"Welcome to GymTracker"}),l.jsx("p",{className:"mt-2 text-indigo-200",children:"Sign in to continue your fitness journey"})]}),l.jsxs("div",{className:"p-6",children:[g&&l.jsx(qe,{type:"error",className:"mb-4",children:g}),l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[l.jsx(ts,{id:"email",label:"Email",type:"email",required:!0,value:c,onChange:D=>f(D.target.value)}),l.jsx(ts,{id:"password",label:"Password",type:"password",required:!0,value:d,onChange:D=>p(D.target.value)}),l.jsx(ye,{type:"submit",variant:"primary",loading:x,fullWidth:!0,children:x?"Signing in...":"Sign in"})]}),l.jsx("div",{className:"mt-6 text-center text-gray-600 dark:text-gray-400",children:l.jsxs("p",{children:["Don't have an account? ",l.jsx(Lr,{to:"/signup",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium",children:"Sign up"})]})})]})]})})},vm=({setUser:i,darkMode:a})=>{const[c,f]=w.useState(""),[d,p]=w.useState(""),[g,k]=w.useState(""),[x,I]=w.useState(!1),N=hr(),P=async D=>{D.preventDefault();try{I(!0);const V=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d}),credentials:"include"}),J=await V.json();if(!V.ok)throw new Error(J.error||"Signup failed");localStorage.setItem("user",JSON.stringify(J)),i(J),N("/")}catch(V){k(V.message)}finally{I(!1)}};return l.jsx("div",{className:"max-w-md w-full mx-auto",children:l.jsxs(tt,{children:[l.jsxs("div",{className:"card-gradient-header px-6 py-8 text-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),l.jsx("path",{d:"M5 8h1a4 4 0 0 1 0 8H5"}),l.jsx("path",{d:"M2 8h2v8H2z"}),l.jsx("path",{d:"M20 8h2v8h-2z"}),l.jsx("path",{d:"M7 12h10"})]}),l.jsx("h2",{className:"text-2xl font-bold",children:"Create an Account"}),l.jsx("p",{className:"mt-2 text-indigo-200",children:"Join GymTracker and start your fitness journey"})]}),l.jsxs("div",{className:"p-6",children:[g&&l.jsx(qe,{type:"error",className:"mb-4",children:g}),l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[l.jsx(ts,{id:"email",label:"Email",type:"email",required:!0,value:c,onChange:D=>f(D.target.value)}),l.jsx(ts,{id:"password",label:"Password",type:"password",required:!0,value:d,onChange:D=>p(D.target.value)}),l.jsx(ye,{type:"submit",variant:"primary",loading:x,fullWidth:!0,children:x?"Creating account...":"Sign up"})]}),l.jsx("div",{className:"mt-6 text-center text-gray-600 dark:text-gray-400",children:l.jsxs("p",{children:["Already have an account? ",l.jsx(Lr,{to:"/login",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium",children:"Sign in"})]})})]})]})})},He={hypertrophy:{name:"Hypertrophy",description:"Build muscle mass and size with moderate weights and higher repetitions.",defaultRestTime:90,workouts:[{day:1,name:"Workout A",exercises:[{name:"Smith Machine Bench Press",sets:3,reps:8,restTime:90},{name:"Machine Lat Pulldown",sets:3,reps:10,restTime:90},{name:"Machine Leg Curl",sets:3,reps:10,restTime:90},{name:"Machine Shoulder Press",sets:2,reps:8,restTime:90},{name:"Dumbbell Alternating Incline Curl",sets:2,reps:10,restTime:90},{name:"Cable Tricep Pushdown",sets:2,reps:10,restTime:90},{name:"Barbell Bulgarian Split Squat",sets:3,reps:10,restTime:90}]},{day:2,name:"Workout B",exercises:[{name:"Machine Incline Chest Press",sets:3,reps:8,restTime:90},{name:"Cable Seated Row",sets:3,reps:10,restTime:90},{name:"Machine Leg Press",sets:3,reps:10,restTime:90},{name:"Dumbbell Lateral Raise",sets:2,reps:15,restTime:90},{name:"Dumbbell Hammer Curl",sets:2,reps:10,restTime:90},{name:"Barbell Seated Tricep Extension",sets:2,reps:10,restTime:90}]},{day:3,name:"Workout C",exercises:[{name:"Machine Leg Extension",sets:3,reps:15,restTime:90},{name:"Machine Seated Leg Curl",sets:3,reps:10,restTime:90},{name:"Barbell Preacher Curl",sets:2,reps:10,restTime:90},{name:"Ez Bar Tricep Extension",sets:2,reps:10,restTime:90},{name:"Barbell Bulgarian Split Squat",sets:3,reps:10,restTime:90}]}]},strength:{name:"Strength",description:"Develop maximum strength with heavier weights and lower repetitions.",defaultRestTime:180,workouts:[{day:1,name:"Upper Body",exercises:[{name:"Barbell Bench Press",sets:5,reps:5,restTime:180},{name:"Barbell Row",sets:5,reps:5,restTime:180},{name:"Overhead Press",sets:3,reps:6,restTime:180},{name:"Pull-up",sets:3,reps:6,restTime:180},{name:"Dumbbell Triceps Extension",sets:3,reps:8,restTime:120},{name:"EZ Bar Curl",sets:3,reps:8,restTime:120}]},{day:2,name:"Lower Body",exercises:[{name:"Deadlift",sets:5,reps:5,restTime:300},{name:"Front Squat",sets:3,reps:5,restTime:240},{name:"Dumbbell Romanian Deadlift",sets:3,reps:8,restTime:180},{name:"Dumbbell Lunge",sets:3,reps:8,restTime:180},{name:"Seated Calf Raise",sets:4,reps:12,restTime:120}]},{day:3,name:"Full Body",exercises:[{name:"Barbell Back Squat",sets:5,reps:5,restTime:240},{name:"Incline Bench Press",sets:4,reps:6,restTime:180},{name:"Lat Pulldown",sets:4,reps:8,restTime:180},{name:"Dumbbell Row",sets:3,reps:8,restTime:180},{name:"Dumbbell Lateral Raise",sets:3,reps:10,restTime:120},{name:"Leg Press",sets:3,reps:10,restTime:180}]}]},endurance:{name:"Endurance",description:"Improve muscular endurance with lighter weights and higher repetitions.",defaultRestTime:60,workouts:[{day:1,name:"Full Body Endurance A",exercises:[{name:"Push-up",sets:3,reps:20,restTime:60},{name:"Dumbbell Row",sets:3,reps:15,restTime:60},{name:"Dumbbell Lunge",sets:3,reps:15,restTime:60},{name:"Dumbbell Lateral Raise",sets:3,reps:20,restTime:60},{name:"Hammer Curl",sets:3,reps:15,restTime:60},{name:"Tricep Extension",sets:3,reps:15,restTime:60}]},{day:2,name:"Full Body Endurance B",exercises:[{name:"Leg Press",sets:3,reps:20,restTime:60},{name:"Chest Fly",sets:3,reps:15,restTime:60},{name:"Lat Pulldown",sets:3,reps:15,restTime:60},{name:"Leg Extension",sets:3,reps:20,restTime:60},{name:"Leg Curl",sets:3,reps:15,restTime:60},{name:"Plank",sets:3,reps:30,restTime:60}]},{day:3,name:"Full Body Endurance C",exercises:[{name:"Dumbbell Bench Press",sets:3,reps:15,restTime:60},{name:"Cable Row",sets:3,reps:15,restTime:60},{name:"Dumbbell Split Squat",sets:3,reps:15,restTime:60},{name:"Face Pull",sets:3,reps:20,restTime:60},{name:"Dumbbell Curl",sets:3,reps:15,restTime:60},{name:"Cable Tricep Pushdown",sets:3,reps:15,restTime:60}]}]},weightLoss:{name:"Weight Loss",description:"Burn calories and improve conditioning with moderate weights and shorter rest periods.",defaultRestTime:45,workouts:[{day:1,name:"Full Body Circuit A",exercises:[{name:"Dumbbell Squat",sets:4,reps:12,restTime:45},{name:"Dumbbell Press",sets:4,reps:12,restTime:45},{name:"Dumbbell Row",sets:4,reps:12,restTime:45},{name:"Dumbbell Lunge",sets:3,reps:12,restTime:45},{name:"Push-up",sets:3,reps:12,restTime:45},{name:"Dumbbell Curl",sets:3,reps:12,restTime:45}]},{day:2,name:"Full Body Circuit B",exercises:[{name:"Leg Press",sets:4,reps:15,restTime:45},{name:"Dumbbell Bench Press",sets:4,reps:12,restTime:45},{name:"Lat Pulldown",sets:4,reps:12,restTime:45},{name:"Leg Extension",sets:3,reps:15,restTime:45},{name:"Cable Tricep Pushdown",sets:3,reps:12,restTime:45},{name:"Dumbbell Lateral Raise",sets:3,reps:15,restTime:45}]},{day:3,name:"Core & Conditioning",exercises:[{name:"Planks",sets:3,reps:30,restTime:45},{name:"Hanging Leg Raise",sets:3,reps:12,restTime:45},{name:"Russian Twist",sets:3,reps:15,restTime:45},{name:"Dumbbell Stepup",sets:3,reps:15,restTime:45},{name:"Dumbbell Lunge",sets:3,reps:15,restTime:45},{name:"Hyperextension",sets:3,reps:15,restTime:45}]}]},powerLifting:{name:"Powerlifting",description:"Focus on the three main compound lifts: squat, bench press, and deadlift.",defaultRestTime:240,workouts:[{day:1,name:"Squat Day",exercises:[{name:"Barbell Back Squat",sets:5,reps:3,restTime:300},{name:"Front Squat",sets:3,reps:5,restTime:240},{name:"Leg Press",sets:3,reps:8,restTime:180},{name:"Romanian Deadlift",sets:3,reps:8,restTime:180},{name:"Leg Extension",sets:3,reps:10,restTime:120},{name:"Leg Curl",sets:3,reps:10,restTime:120}]},{day:2,name:"Bench Day",exercises:[{name:"Barbell Bench Press",sets:5,reps:3,restTime:300},{name:"Incline Bench Press",sets:3,reps:5,restTime:240},{name:"Dumbbell Press",sets:3,reps:8,restTime:180},{name:"Dumbbell Row",sets:3,reps:8,restTime:180},{name:"Tricep Extension",sets:3,reps:10,restTime:120},{name:"Dumbbell Lateral Raise",sets:3,reps:12,restTime:120}]},{day:3,name:"Deadlift Day",exercises:[{name:"Deadlift",sets:5,reps:3,restTime:360},{name:"Barbell Row",sets:3,reps:5,restTime:240},{name:"Pull-up",sets:3,reps:8,restTime:180},{name:"Hyperextension",sets:3,reps:10,restTime:120},{name:"Hammer Curl",sets:3,reps:10,restTime:120},{name:"Front Raise",sets:3,reps:10,restTime:120}]}]}},xm=({onSelectProgram:i,darkMode:a})=>{const[c,f]=w.useState(null),[d,p]=w.useState(!1),[g,k]=w.useState(null),x=P=>{f(P),p(!0)},I=()=>{f(null),p(!1)},N=()=>{c&&(i(c),p(!1))};return l.jsxs("div",{className:"program-selector mb-8",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Workout Programs"}),g&&l.jsx(qe,{type:"error",className:"mb-4",children:g}),d&&l.jsx(qe,{type:"warning",className:"mb-4",children:l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Are you sure you want to switch to the ",He[c].name," program?"]}),l.jsx("p",{className:"mt-1",children:"This will replace your current workout days with the new program. Your exercise history will be preserved."}),l.jsxs("div",{className:"mt-3 flex space-x-3",children:[l.jsx(ye,{onClick:N,variant:"primary",size:"sm",children:"Confirm"}),l.jsx(ye,{onClick:I,variant:"secondary",size:"sm",children:"Cancel"})]})]})}),l.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Object.entries(He).map(([P,D])=>l.jsx(tt,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-5 flex flex-col h-full",children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:D.name}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 flex-grow",children:D.description}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:[D.workouts.length," workouts"]}),l.jsx(ye,{onClick:()=>x(P),variant:"secondary",className:"w-full",children:"Select Program"})]})},P))})]})},xt=i=>{var f,d;if(!i||!i._id){console.error("Invalid exercise data:",i);return}console.log(`Saving exercise to localStorage: ${i._id}`,{name:i.name,sets:((f=i.sets)==null?void 0:f.length)||0,hasHistory:!!i.history,historyEntries:((d=i.history)==null?void 0:d.length)||0});const a=localStorage.getItem(`exercise_${i._id}`);if(a)try{const p=JSON.parse(a);!i.history&&p.history&&p.history.length>0&&(console.log(`Preserving existing history with ${p.history.length} entries`),i.history=p.history)}catch(p){console.error("Error parsing existing exercise data:",p)}localStorage.setItem(`exercise_${i._id}`,JSON.stringify(i));const c=JSON.parse(localStorage.getItem("modified_exercises")||"[]");c.includes(i._id)||(c.push(i._id),localStorage.setItem("modified_exercises",JSON.stringify(c)))},zu=()=>{if(console.log("Starting local workout completion process..."),!(localStorage.getItem("isWorkoutActive")==="true")){console.log("No active workout to complete");return}const a=Ut();console.log(`Found ${a.length} modified exercises to process`);const c=new Date;for(const f of a){const d=Wt(f);if(!d){console.log(`Exercise ${f} not found in localStorage, skipping`);continue}console.log(`Processing exercise ${f}: ${d.name}`);const p=d.sets.filter(g=>g.completed);if(console.log(`Found ${p.length} completed sets`),p.length>0){d.history?console.log(`Exercise already has ${d.history.length} history entries`):(console.log("Creating new history array for exercise"),d.history=[]);const g=[];for(const N of p){const P={weight:typeof N.weight=="number"?N.weight:parseFloat(N.weight)||0,reps:typeof N.reps=="number"?N.reps:parseInt(N.reps)||0};g.push(P)}const k={date:c,sets:g};console.log(`Adding new history entry with ${g.length} sets`),g.length>0&&console.log(`First set: weight=${g[0].weight}, reps=${g[0].reps}`),d.history.push(k),console.log(`Exercise now has ${d.history.length} history entries`);const x=d.sets.map(N=>({...N,completed:!1})),I={...d,sets:x};console.log("Saving updated exercise with new history"),xt(I)}else console.log("No completed sets, skipping history recording")}console.log("Local workout completion finished"),localStorage.setItem("isWorkoutActive","false")},Wt=i=>{const a=localStorage.getItem(`exercise_${i}`);if(!a)return null;const c=localStorage.getItem("isWorkoutActive")==="true",f=JSON.parse(a);return!c&&f&&f.sets?{...f,sets:f.sets.map(p=>({...p,completed:!1}))}:f},wm=i=>{localStorage.removeItem(`exercise_${i}`);const c=JSON.parse(localStorage.getItem("modified_exercises")||"[]").filter(f=>f!==i);localStorage.setItem("modified_exercises",JSON.stringify(c))},km=(i,a)=>{if(!i||!a)return;const c=localStorage.getItem(`exercise_${i}`);if(c)try{const f=JSON.parse(c);if(!f.history||!Array.isArray(f.history))return;const d=f.history.filter(g=>g?(g._id||g.id||g.date)!==a:!1);if(d.length===f.history.length)return;const p={...f,history:d};localStorage.setItem(`exercise_${i}`,JSON.stringify(p))}catch(f){console.error("Failed to remove local history entry:",f)}},Ut=()=>JSON.parse(localStorage.getItem("modified_exercises")||"[]"),Sm=()=>{console.log("Clearing all modified exercise tracking...");const i=Ut();console.log(`Found ${i.length} modified exercises to clear`),i.forEach(a=>{localStorage.removeItem(`exercise_${a}`),localStorage.removeItem(`timer_${a}`),localStorage.removeItem(`notification_${a}`)}),localStorage.removeItem("modified_exercises"),localStorage.removeItem("global_rest_timer_start"),localStorage.removeItem("global_rest_timer_duration"),localStorage.removeItem("global_notification_id"),localStorage.removeItem("temp_exercises"),console.log("All modified exercise data cleared")},Nm=async i=>{const a=Ut();if(a.length===0)return{success:!0,message:"No modified exercises to sync"};const c={success:!0,totalCount:a.length,successCount:0,failedCount:0,failedExercises:[]};for(const f of a){const d=Wt(f);if(!d){c.failedCount++,c.failedExercises.push({id:f,error:"Missing exercise data"});continue}try{const p=await fetch(`/api/exercises/${f}`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({sets:d.sets,history:d.history||[]}),credentials:"include"});if(!p.ok){const g=await p.json();throw new Error(g.error||`Failed with status ${p.status}`)}wm(f),c.successCount++}catch(p){console.error(`Failed to sync exercise ${f}:`,p),c.failedCount++,c.failedExercises.push({id:f,name:d.name,error:p.message}),c.success=!1}}return c},Gn=(i,a)=>{!i||!a||localStorage.setItem(`workout_day_${i}`,JSON.stringify(a))},po=i=>{const a=localStorage.getItem(`workout_day_${i}`);return a?JSON.parse(a):null},Ir=i=>{!i||!Array.isArray(i)||localStorage.setItem("all_workouts",JSON.stringify(i))},jm=()=>{const i=localStorage.getItem("all_workouts");return i?JSON.parse(i):null},dr=i=>{const a=JSON.parse(localStorage.getItem("modified_workout_days")||"[]");a.includes(i)||(a.push(i),localStorage.setItem("modified_workout_days",JSON.stringify(a)))},Ni=()=>JSON.parse(localStorage.getItem("modified_workout_days")||"[]"),Em=()=>{Sm(),localStorage.removeItem("modified_workout_days"),localStorage.removeItem("temp_exercises"),localStorage.removeItem("deleted_exercises"),localStorage.removeItem("deleted_workout_days"),localStorage.removeItem("new_workout_days")},Du=async i=>{const a={success:!0,exercises:{total:0,success:0,failed:0},workoutDays:{total:0,success:0,failed:0},tempExercises:{total:0,success:0,failed:0},deletedItems:{total:0,success:0,failed:0},failedItems:[]};if(!navigator.onLine)return{success:!1,message:"Cannot sync while offline"};try{return console.log("Starting sync process..."),await Cm(i,a),await Pm(i,a),await Tm(i,a),await Lm(i,a),await Im(i,a),await _m(i),a.success=a.exercises.failed===0&&a.workoutDays.failed===0&&a.tempExercises.failed===0&&a.deletedItems.failed===0,Zu()?(console.warn("Some pending changes could not be synced"),a.warning="Some changes could not be synced yet. Data has been left in offline storage so you can retry."):a.success&&Em(),console.log("Sync completed with results:",a),a}catch(c){return console.error("Sync failed:",c),{success:!1,message:c.message,details:a}}},Cm=async(i,a)=>{try{console.log("Completing workout on server to record history...");const c=Ut();let f=!1;for(const d of c){const p=Wt(d);if(p&&p.history&&p.history.length>0){f=!0;break}}if(!f){console.log("No history to sync, skipping workout completion");return}for(const d of c){const p=Wt(d);!p||!p.history||p.history.length===0||await fetch(`/api/exercises/${d}`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({sets:p.sets,history:p.history}),credentials:"include"})}console.log("Exercise history synced successfully")}catch(c){console.error("Error syncing exercise history:",c)}},_m=async i=>{try{console.log("Refreshing all data from server...");const a=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(a.ok){const f=await a.json();Ir(f),console.log("Workouts refreshed from server")}const c=Ut();for(const f of c)try{const d=await fetch(`/api/exercises/${f}`,{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(d.ok){const p=await d.json()}}catch(d){console.warn(`Failed to refresh exercise ${f}:`,d)}}catch(a){console.error("Error refreshing data from server:",a)}},Pm=async(i,a)=>{const c=Ut();a.exercises.total=c.length,console.log(`Syncing ${c.length} modified exercises...`);for(const f of c)try{if(f.startsWith("temp_"))continue;const d=Wt(f);if(!d){a.exercises.failed++,a.failedItems.push({type:"exercise",id:f,error:"Missing exercise data"});continue}console.log(`Syncing exercise ${f}: ${d.name}`),d.history&&d.history.length>0?console.log(`Exercise has ${d.history.length} history entries to sync`):console.log("Exercise has no history entries to sync");const p=await fetch(`/api/exercises/${f}`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({sets:d.sets,history:d.history}),credentials:"include"});if(!p.ok){const g=await p.json();throw new Error(g.error||`Failed with status ${p.status}`)}console.log(`Exercise ${f} synced successfully`),a.exercises.success++}catch(d){console.error(`Failed to sync exercise ${f}:`,d),a.exercises.failed++,a.failedItems.push({type:"exercise",id:f,error:d.message})}},Tm=async(i,a)=>{const c=JSON.parse(localStorage.getItem("temp_exercises")||"[]");a.tempExercises.total=c.length;for(const f of c)try{const{id:d,day:p,name:g}=f,k=Wt(d);if(!k){a.tempExercises.failed++,a.failedItems.push({type:"tempExercise",id:d,error:"Missing exercise data"});continue}const x=await fetch(`/api/workouts/${p}/exercises`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({name:k.name,sets:k.sets,restTime:k.restTime}),credentials:"include"});if(!x.ok)throw new Error(`Failed with status ${x.status}`);localStorage.removeItem(`exercise_${d}`),a.tempExercises.success++}catch(d){console.error("Failed to sync temp exercise:",d),a.tempExercises.failed++,a.failedItems.push({type:"tempExercise",error:d.message})}if(a.tempExercises.success>0){const f=c.filter((d,p)=>!!a.failedItems.find(k=>k.type==="tempExercise"&&k.id===c[p].id));localStorage.setItem("temp_exercises",JSON.stringify(f))}},Lm=async(i,a)=>{const c=JSON.parse(localStorage.getItem("deleted_exercises")||"[]"),f=JSON.parse(localStorage.getItem("deleted_workout_days")||"[]");a.deletedItems.total=c.length+f.length;for(const d of c)try{const{id:p,day:g}=d,k=await fetch(`/api/workouts/${g}/exercises/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(!k.ok)throw new Error(`Failed with status ${k.status}`);a.deletedItems.success++}catch(p){console.error("Failed to sync deleted exercise:",p),a.deletedItems.failed++,a.failedItems.push({type:"deletedExercise",error:p.message})}for(const d of f)try{const p=await fetch(`/api/workouts/days/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(!p.ok)throw new Error(`Failed with status ${p.status}`);a.deletedItems.success++}catch(p){console.error("Failed to sync deleted day:",p),a.deletedItems.failed++,a.failedItems.push({type:"deletedDay",id:d,error:p.message})}if(a.deletedItems.success>0){try{const d=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(d.ok){const p=await d.json();Ir(p)}}catch(d){console.error("Failed to refresh workouts after deletion:",d)}localStorage.removeItem("deleted_exercises"),localStorage.removeItem("deleted_workout_days")}},Im=async(i,a)=>{const c=Ni(),f=JSON.parse(localStorage.getItem("new_workout_days")||"[]");if(a.workoutDays.total=c.length,c.length>0)try{const d=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(d.ok){const p=await d.json();for(const k of f){const{day:x}=k;if(!p.find(N=>N.day===parseInt(x)))try{await fetch("/api/workouts/days",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({day:parseInt(x)}),credentials:"include"}),a.workoutDays.success++}catch(N){console.error(`Failed to create workout day ${x}:`,N),a.workoutDays.failed++,a.failedItems.push({type:"newWorkoutDay",day:x,error:N.message})}}const g=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(g.ok){const k=await g.json();Ir(k),localStorage.removeItem("modified_workout_days"),localStorage.removeItem("new_workout_days")}}}catch(d){console.error("Failed to sync workout days:",d),a.workoutDays.failed+=c.length,a.failedItems.push({type:"workoutDays",error:d.message})}},Zu=()=>{const i=Ut(),a=Ni(),c=JSON.parse(localStorage.getItem("temp_exercises")||"[]"),f=JSON.parse(localStorage.getItem("deleted_exercises")||"[]"),d=JSON.parse(localStorage.getItem("deleted_workout_days")||"[]"),p=JSON.parse(localStorage.getItem("new_workout_days")||"[]"),k=Object.keys(localStorage).filter(I=>I.startsWith("exercise_")),x=i.length>0||a.length>0||c.length>0||f.length>0||d.length>0||p.length>0;return console.log("Checking for pending changes:",{modifiedExercises:i,modifiedDays:a,tempExercises:c,deletedExercises:f,deletedDays:d,newDays:p,exerciseKeysCount:k.length,hasChanges:x}),x},Rm=({isWorkoutActive:i,setIsWorkoutActive:a,darkMode:c})=>{const[f,d]=w.useState([]),[p,g]=w.useState(null),[k,x]=w.useState(!1),[I,N]=w.useState(!0),[P,D]=w.useState(!1),[V,J]=w.useState(!1),[b,_]=w.useState({}),[ne,U]=w.useState(!1),[X,se]=w.useState(null),[ge,xe]=w.useState(!1),[Z,H]=w.useState(navigator.onLine);w.useEffect(()=>{const T=()=>{console.log("Home is now online"),H(!0),pe()},A=()=>{console.log("Home is now offline"),H(!1)};return window.addEventListener("online",T),window.addEventListener("offline",A),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",A)}},[]),w.useEffect(()=>{me(),ue(),pe()},[Z]);const pe=()=>{if(console.log("Checking for local changes..."),ge===!1){console.log("Local changes flag already set to false, skipping check");return}const T=Zu();console.log("Local changes detected:",T),xe(T)},ue=async()=>{try{const T=localStorage.getItem("active_program");if(T&&He[T]){const A=He[T],Q={};A.workouts.forEach(K=>{Q[K.day]=K.name}),_(Q)}if(Z){const A=JSON.parse(localStorage.getItem("user")),Q=await fetch("/api/user/active-program",{headers:{Authorization:`Bearer ${A.token}`},credentials:"include"});if(Q.ok){const K=await Q.json();if(K.activeProgram&&localStorage.setItem("active_program",K.activeProgram),K.activeProgram&&He[K.activeProgram]){const B=He[K.activeProgram],R={};B.workouts.forEach(Y=>{R[Y.day]=Y.name}),_(R)}}}}catch(T){console.error("Error fetching active program:",T)}},me=async()=>{try{N(!0);const T=jm();if(!Z)T?(console.log("Using locally stored workouts (offline mode)"),T.sort((A,Q)=>A.day-Q.day),d(T)):oe("No cached workouts available offline","warning");else try{const A=JSON.parse(localStorage.getItem("user")),Q=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${A.token}`},credentials:"include"});if(!Q.ok)throw new Error("Failed to fetch workouts from server");const K=await Q.json();K.sort((B,R)=>B.day-R.day),Ir(K),d(K)}catch(A){console.error("Server fetch error, using localStorage:",A),T?(console.log("Using locally stored workouts"),T.sort((Q,K)=>Q.day-K.day),d(T)):oe("Failed to load workouts and no cache available","error")}}catch(T){console.error("Error fetching workouts:",T),oe("Failed to load workouts","error")}finally{N(!1)}},oe=(T,A="success")=>{g({message:T,type:A}),setTimeout(()=>{g(null)},3e3)},ae=async()=>{if(i)try{if(D(!0),!Z){zu(),a(!1),localStorage.setItem("isWorkoutActive","false"),oe("Workout ended. Changes saved locally and will sync when youre online.","success"),D(!1),xe(!0),setTimeout(pe,500);return}zu(),console.log("Local workout completion done, syncing with server...");const A=JSON.parse(localStorage.getItem("user"));if(!(await fetch("/api/workouts/complete",{method:"POST",headers:{Authorization:`Bearer ${A.token}`},credentials:"include"})).ok)throw new Error("Failed to complete workout on server");console.log("Server workout completion successful");const K=Ut();if(K.length>0){console.log(`Syncing ${K.length} modified exercises after workout completion...`);const B=await Du(A.token);if(!B.success){console.error("Sync failed:",B),se(B),U(!0),xe(!0),D(!1);return}console.log("Sync after workout completion successful")}oe("Workout completed and saved successfully");try{console.log("Refreshing workout data after completion...");const B=await fetch("/api/workouts",{headers:{Authorization:`Bearer ${A.token}`},credentials:"include"});if(B.ok){const R=await B.json();Ir(R),console.log("Workout data refreshed successfully")}}catch(B){console.error("Failed to refresh data after workout completion:",B)}setTimeout(pe,500)}catch(A){console.error("Error completing workout:",A),oe("Failed to save workout data. Your changes are still saved locally.","error"),U(!0),D(!1),xe(!0);return}const T=!i;a(T),localStorage.setItem("isWorkoutActive",T.toString()),D(!1)},fe=async()=>{if(!Z){oe("You are offline. Please connect to the internet to sync.","warning");return}try{J(!0),oe("Syncing changes...","info");const T=JSON.parse(localStorage.getItem("user"));if(!T||!T.token)throw new Error("User not authenticated");console.log("Starting sync process...");const A=await Du(T.token);A.success&&(localStorage.removeItem("modified_exercises"),localStorage.removeItem("modified_workout_days"),localStorage.removeItem("temp_exercises"),localStorage.removeItem("deleted_exercises"),localStorage.removeItem("deleted_workout_days"),localStorage.removeItem("new_workout_days"),xe(!1)),A.success?(console.log("Sync completed successfully"),oe("All changes synced successfully!","success"),await me()):(console.error("Sync failed:",A),se(A),U(!0),oe("Some changes failed to sync. See details for more information.","warning"))}catch(T){console.error("Error during sync:",T),oe("Failed to sync changes. Please try again later.","error")}finally{J(!1)}},Ee=async()=>{try{if(D(!0),!Z){oe("You are currently offline. Please try again when connected.","warning"),D(!1);return}const T=JSON.parse(localStorage.getItem("user"));if(!T||!T.token)throw new Error("User not authenticated");const A=await Nm(T.token);if(!A.success)console.error("Retry sync failed:",A),se(A),oe("Sync failed. Please try again later.","error");else{if(console.log("Retry sync successful:",A),!(await fetch("/api/workouts/complete",{method:"POST",headers:{Authorization:`Bearer ${T.token}`},credentials:"include"})).ok)throw new Error("Failed to complete workout");oe("Workout saved successfully"),U(!1),a(!1),localStorage.setItem("isWorkoutActive","false"),pe()}}catch(T){console.error("Error retrying sync:",T),oe("Failed to save workout data. Please try again later.","error")}finally{D(!1)}},ke=()=>{x(!k)},Se=async()=>{try{D(!0);const A=f.reduce((Q,K)=>K.day>Q?K.day:Q,0)+1;if(!Z){L(A);return}try{const Q=JSON.parse(localStorage.getItem("user")),K=await fetch("/api/workouts/days",{method:"POST",headers:{Authorization:`Bearer ${Q.token}`,"Content-Type":"application/json"},body:JSON.stringify({day:A}),credentials:"include"});if(!K.ok){const B=await K.json();throw new Error(B.error||"Failed to add workout day")}await me(),oe(`Day ${A} added successfully`)}catch(Q){console.error("Server error, falling back to offline mode:",Q),L(A)}}catch(T){console.error("Error adding workout day:",T),oe(`Failed to add workout day: ${T.message}`,"error")}finally{D(!1)}},L=T=>{const A={day:T,exercises:[],_id:`temp_day_${Date.now()}`},Q=[...f,A];Q.sort((R,Y)=>R.day-Y.day),d(Q),xe(!0),Ir(Q);const K=Ni();K.push(T.toString()),localStorage.setItem("modified_workout_days",JSON.stringify(K));const B=JSON.parse(localStorage.getItem("new_workout_days")||"[]");B.push({day:T,id:A._id}),localStorage.setItem("new_workout_days",JSON.stringify(B)),oe(`Day ${T} added and saved locally`,"success")},F=async T=>{try{D(!0);const A=f.find(Q=>{var K;return Q.day===T&&((K=Q._id)==null?void 0:K.startsWith("temp_day_"))});if(!Z){z(T);return}if(A)z(T);else try{const Q=JSON.parse(localStorage.getItem("user")),K=await fetch(`/api/workouts/days/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q.token}`},credentials:"include"});if(!K.ok){const B=await K.json();throw new Error(B.error||"Failed to remove workout day")}await me(),oe(`Day ${T} removed successfully`)}catch(Q){console.error("Server error, falling back to offline mode:",Q),z(T)}}catch(A){console.error("Error removing workout day:",A),oe(`Failed to remove workout day: ${A.message}`,"error")}finally{D(!1)}},z=T=>{var B;const A=f.find(R=>R.day===T),Q=(B=A==null?void 0:A._id)==null?void 0:B.startsWith("temp_day_"),K=f.filter(R=>R.day!==T);if(d(K),xe(!0),Ir(K),Q){const Y=JSON.parse(localStorage.getItem("new_workout_days")||"[]").filter(de=>de.day!==T);localStorage.setItem("new_workout_days",JSON.stringify(Y))}else{const R=JSON.parse(localStorage.getItem("deleted_workout_days")||"[]");R.push(T),localStorage.setItem("deleted_workout_days",JSON.stringify(R))}oe(`Day ${T} removed and saved locally`,"success")},y=T=>b[T]?b[T]:"Workout",C=T=>{var A,Q;return l.jsxs("div",{className:"workout-card relative",children:[k&&l.jsx("button",{onClick:K=>{K.stopPropagation(),F(T.day)},className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full p-2 transition-colors z-10",disabled:P,"aria-label":"Remove workout day",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs(Lr,{to:`/workout/${T.day}`,className:`block p-6 ${(A=T._id)!=null&&A.startsWith("temp_day_")?"border-l-4 border-yellow-500 dark:border-yellow-400":""}`,children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:["Day ",T.day,": ",y(T.day)]}),((Q=T._id)==null?void 0:Q.startsWith("temp_day_"))&&l.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Added offline (not synced)"})]})}),T.exercises&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.exercises.length>0?`${T.exercises.length} exercise${T.exercises.length!==1?"s":""}`:"No exercises - click to add"}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"View exercises"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-600 dark:text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]},T.day)};return l.jsxs("div",{children:[ne&&l.jsx(qe,{type:"warning",className:"mb-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:"Workout Data Not Saved"}),l.jsxs("p",{className:"mt-2",children:[X?`Failed to save ${X.failedCount} of ${X.totalCount} exercises.`:"Your workout data couldn't be saved to the server.",l.jsx("br",{}),"Your changes are still saved on this device."]}),l.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3",children:[l.jsx(ye,{onClick:Ee,variant:"primary",loading:P,disabled:!Z,children:"Retry Saving"}),l.jsx(ye,{onClick:()=>U(!1),variant:"secondary",disabled:P,children:"Close"})]})]})}),ge&&Z&&!i&&l.jsx(qe,{type:"info",className:"mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"You have unsaved changes"}),l.jsx("p",{className:"text-sm mt-1",children:"Changes made while offline need to be synced"})]}),l.jsx(ye,{onClick:fe,variant:"primary",loading:V,className:"flex items-center space-x-2",size:"sm",children:V?"Syncing...":l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),l.jsx("span",{children:"Sync Now"})]})})]})}),l.jsx(tt,{className:"mb-8",headerContent:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 w-full",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg mb-1 flex items-center",children:[i?"Workout in Progress":"Ready to Train?",ge&&i&&l.jsx("span",{className:"ml-2 text-xs bg-yellow-500/30 text-white px-2 py-0.5 rounded-full",children:"Unsaved changes"})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:i?ge?"All changes are saved locally and will be synchronized when you end your workout":"Keep pushing! You got this!":"Start a workout session to track your progress"})]}),l.jsx(ye,{variant:i?"danger":"primary",rounded:!0,size:"lg",onClick:ae,loading:P,className:"transform hover:scale-105",children:i?"END WORKOUT":"START WORKOUT"})]})}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Your Workouts"}),l.jsx(ye,{onClick:ke,variant:"secondary",rounded:!0,className:k?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 flex items-center space-x-2":"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 flex items-center space-x-2",children:k?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Done"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),l.jsx("span",{children:"Edit Workouts"})]})})]}),!I&&l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[f.map(T=>C(T)),f.length===0&&!k&&l.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-4 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("p",{className:"text-lg mb-2",children:"No workouts yet"}),l.jsx("p",{children:'Click "Edit Workouts" to add your first workout day'})]}),k&&l.jsx(ye,{onClick:Se,variant:"secondary",className:"h-full min-h-[180px] flex items-center justify-center space-x-2 border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/60 rounded-lg",disabled:P,children:P?l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),l.jsx("span",{children:"Add Workout Day"})]})})]}),p&&l.jsx(gm,{message:p.message,type:p.type,onDismiss:()=>g(null)})]})},zm=["Ab Crunch","Barbell Back Squat","Barbell Bench Press","Barbell Bulgarian Split Squat","Barbell Preacher Curl","Barbell Row","Barbell Seated Tricep Extension","Bench Dips","Bench Press","Cable Crossover","Cable Row","Cable Seated Row","Cable Tricep Pushdown","Chest Fly","Chinups","Deadlift","Dips","Dumbbell Bench Press","Dumbbell Curl","Dumbbell Alternating Incline Curl","Dumbbell Fly","Dumbbell Hammer Curl","Dumbbell Lateral Raise","Dumbbell Lunge","Dumbbell Overhead Press","Dumbbell Preacher Curl","Dumbbell Press","Dumbbell Pullover","Dumbbell Romanian Deadlift","Dumbbell Row","Dumbbell Shrug","Dumbbell Split Squat","Dumbbell Stepup","Dumbbell Triceps Extension","EZ Bar Curl","Ez Bar Tricep Extension","Face Pull","Floor Press","Front Raise","Front Squat","Glute Bridge","Hammer Curl","Hanging Knee Raise","Hanging Leg Raise","Hip Thrust","Hyperextension","Incline Bench Press","Incline Dumbbell Bench","Lat Pulldown","Lateral Raise","Leg Curl","Leg Extension","Leg Press","Lever Row","Lunges","Machine Chest Press","Machine Incline Chest Press","Machine Lat Pulldown","Machine Seated Leg Curl","Machine Leg Extension","Machine Leg Press","Machine Shoulder Press","Overhead Press","Overhead Press Seated","Pec Deck","Plank","Planks","Pull-up","Push-up","Rear Delt Raise","Reverse Fly","Roman Chair Situp","Romanian Deadlift","Russian Twist","Seated Calf Raise","Seated Lever Row","Side Lunges","Side Raise","Situp","Skull Crusher","Skullcrushers","Smith Machine Bench Press","Smith Machine Squat","Standing Calf Raise","Tricep Extension","Wrist Curl"],Ou=(i=3,a=10)=>Array.from({length:i},()=>({weight:0,reps:a,completed:!1})),Dm=({darkMode:i})=>{const{day:a}=Si(),[c,f]=w.useState(null),[d,p]=w.useState(null),[g,k]=w.useState(!0),[x,I]=w.useState(!1),[N,P]=w.useState(!1),[D,V]=w.useState(""),[J,b]=w.useState(!1),[_,ne]=w.useState(navigator.onLine),[U,X]=w.useState(!1),se=w.useRef(null),[ge,xe]=w.useState(null),[Z,H]=w.useState(null),pe=hr();w.useEffect(()=>{const L=()=>{console.log("WorkoutDay is now online"),ne(!0)},F=()=>{console.log("WorkoutDay is now offline"),ne(!1)};return window.addEventListener("online",L),window.addEventListener("offline",F),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",F)}},[]),w.useEffect(()=>{(async()=>{try{k(!0);const F=po(a);if(_)try{const z=JSON.parse(localStorage.getItem("user")),y=await fetch(`/api/workouts/${a}`,{headers:{Authorization:`Bearer ${z.token}`},credentials:"include"});if(!y.ok)throw new Error("Failed to fetch workout data");const C=await y.json();f(C),Gn(a,C)}catch(z){if(console.error("Server fetch error, trying localStorage:",z),F)console.log("Using locally stored workout data"),f(F),X(!0);else throw new Error("Failed to load workout data and no cache available")}else if(F)console.log("Using locally stored workout data (offline mode)"),f(F);else throw new Error("No cached workout data available offline")}catch(F){console.error("Error fetching workout:",F),p(F.message)}finally{k(!1)}})()},[a,_]),w.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("active_program");if(F&&(xe(F),He[F])){const z=He[F],y=z.workouts.find(C=>C.day===parseInt(a));if(y){H({programId:F,programName:z.name,workoutName:y.name});return}}if(_){const z=JSON.parse(localStorage.getItem("user")),y=await fetch("/api/user/active-program",{headers:{Authorization:`Bearer ${z.token}`},credentials:"include"});if(y.ok){const C=await y.json();if(xe(C.activeProgram),C.activeProgram&&localStorage.setItem("active_program",C.activeProgram),C.activeProgram&&He[C.activeProgram]){const T=He[C.activeProgram],A=T.workouts.find(Q=>Q.day===parseInt(a));A&&H({programId:C.activeProgram,programName:T.name,workoutName:A.name})}}}}catch(F){console.error("Error fetching active program:",F)}})()},[a,_]),w.useEffect(()=>{N&&se.current&&se.current.focus()},[N]);const ue=L=>{const z=Wt(L._id)||L;return z.sets&&z.sets.length>0&&z.sets.every(y=>y.completed)},me=L=>{x||pe(`/workout/${a}/exercise/${L}`)},oe=()=>{I(!x),P(!1)},ae=zm.filter(L=>L.toLowerCase().includes(D.toLowerCase())),fe=async L=>{try{b(!0);const F={name:L,sets:Ou()};if(_)try{const z=JSON.parse(localStorage.getItem("user"));if(!(await fetch(`/api/workouts/${a}/exercises`,{method:"POST",headers:{Authorization:`Bearer ${z.token}`,"Content-Type":"application/json"},body:JSON.stringify(F),credentials:"include"})).ok)throw new Error("Failed to add exercise");const C=await fetch(`/api/workouts/${a}`,{headers:{Authorization:`Bearer ${z.token}`},credentials:"include"});if(!C.ok)throw new Error("Failed to refresh workout data");const T=await C.json();f(T),Gn(a,T)}catch(z){console.error("Failed to add exercise online, using offline fallback:",z),Ee(L)}else Ee(L);P(!1),V("")}catch(F){console.error("Error adding exercise:",F),p(F.message)}finally{b(!1)}},Ee=L=>{if(!c)return;const F=`temp_${Date.now()}`,z={_id:F,name:L,sets:Ou()},y={...c};y.exercises||(y.exercises=[]),y.exercises.push(z),f(y),X(!0),Gn(a,y),dr(a);const C=JSON.parse(localStorage.getItem("temp_exercises")||"[]");C.push({id:F,day:a,name:L}),localStorage.setItem("temp_exercises",JSON.stringify(C))},ke=async L=>{try{if(b(!0),_&&!L.startsWith("temp_"))try{const F=JSON.parse(localStorage.getItem("user"));if(!(await fetch(`/api/workouts/${a}/exercises/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${F.token}`},credentials:"include"})).ok)throw new Error("Failed to remove exercise");const y=await fetch(`/api/workouts/${a}`,{headers:{Authorization:`Bearer ${F.token}`},credentials:"include"});if(!y.ok)throw new Error("Failed to refresh workout data");const C=await y.json();f(C),Gn(a,C)}catch(F){console.error("Failed to remove exercise online, using offline fallback:",F),Se(L)}else Se(L)}catch(F){console.error("Error removing exercise:",F),p(F.message)}finally{b(!1)}},Se=L=>{if(!c||!c.exercises)return;const F={...c};if(F.exercises=c.exercises.filter(z=>z._id!==L),f(F),X(!0),Gn(a,F),dr(a),L.startsWith("temp_")){const y=JSON.parse(localStorage.getItem("temp_exercises")||"[]").filter(C=>C.id!==L);localStorage.setItem("temp_exercises",JSON.stringify(y))}else{const z=JSON.parse(localStorage.getItem("deleted_exercises")||"[]");z.push({id:L,day:a}),localStorage.setItem("deleted_exercises",JSON.stringify(z))}};return d&&!g?l.jsxs(qe,{type:"error",children:["Could not load workout data: ",d]}):!c||g?null:l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("div",{children:Z?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Day ",a,": ",Z.workoutName]}),l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-300",children:Z.programName})]}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Complete all exercises in this workout",U&&!_&&l.jsx("span",{className:"ml-2 text-yellow-600 dark:text-yellow-400",children:"(Offline changes will sync when online)"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:["Day ",a]}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Complete all exercises in this workout",U&&!_&&l.jsx("span",{className:"ml-2 text-yellow-600 dark:text-yellow-400",children:"(Offline changes will sync when online)"})]})]})}),l.jsx(ye,{onClick:oe,variant:"secondary",rounded:!0,className:x?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 flex items-center space-x-2":"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 flex items-center space-x-2",children:x?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Done"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),l.jsx("span",{children:"Edit Workout"})]})})]}),U&&!_&&l.jsx(qe,{type:"warning",className:"mb-4",children:"You have offline changes that will be saved locally and synced when you're back online."}),l.jsx("div",{className:"grid gap-4 mb-6",children:c.exercises&&c.exercises.length>0?c.exercises.map((L,F)=>{var z,y,C;return l.jsx(tt,{className:`relative cursor-pointer hover:shadow-md dark:shadow-gray-900/30 transition-shadow duration-200 ${x?"border-l-4 border-indigo-500 dark:border-indigo-400":ue(L)?"border-l-4 border-green-500 dark:border-green-400":L._id.startsWith("temp_")?"border-l-4 border-yellow-500 dark:border-yellow-400":""}`,onClick:()=>!x&&me(L._id),children:l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"set-number mr-4",children:F+1}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-medium text-gray-800 dark:text-gray-100",children:[L.name,L._id.startsWith("temp_")&&l.jsx("span",{className:"ml-2 text-xs text-yellow-600 dark:text-yellow-400",children:"(Not yet synced)"})]}),l.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mt-1",children:[l.jsxs("span",{children:[((z=L.sets)==null?void 0:z.length)||0," sets"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{children:[((C=(y=L.sets)==null?void 0:y[0])==null?void 0:C.reps)||0," reps per set"]})]})]}),x?l.jsx("button",{onClick:T=>{T.stopPropagation(),ke(L._id)},className:"text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full p-2 transition-colors",disabled:J,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 dark:text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})},L._id)}):l.jsxs("div",{className:"text-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No exercises in this workout yet"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:'Click "Edit Workout" to add your first exercise'})]})}),x&&l.jsx("div",{className:"mt-6",children:N?l.jsxs(tt,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Add Exercise"}),l.jsx(ts,{ref:se,placeholder:"Search exercises...",value:D,onChange:L=>V(L.target.value),className:"mb-4"}),l.jsx("div",{className:"max-h-64 overflow-y-auto border dark:border-gray-700 rounded-md",children:ae.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No exercises found. Try a different search term."}):l.jsx("div",{className:"divide-y dark:divide-gray-700",children:ae.map((L,F)=>l.jsx("button",{className:"w-full text-left p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>fe(L),disabled:J,children:L},F))})}),l.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[l.jsx(ye,{onClick:()=>P(!1),variant:"secondary",disabled:J,children:"Cancel"}),l.jsx(ye,{onClick:()=>fe(D),variant:"primary",disabled:!D.trim()||J,children:J?"Adding...":"Add Custom Exercise"})]})]}):l.jsxs(ye,{onClick:()=>P(!0),variant:"secondary",className:"w-full py-3 flex items-center justify-center space-x-2 border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/60",disabled:J,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),l.jsx("span",{children:"Add Exercise"})]})})]})},Mu=({duration:i=90,onComplete:a,startTime:c,darkMode:f,onDurationChange:d,editMode:p=!1})=>{const[g,k]=w.useState(100),[x,I]=w.useState(i),[N,P]=w.useState(i),[D,V]=w.useState(!1);w.useEffect(()=>{c?I(Math.max(i-(Date.now()-c)/1e3,0)):(I(i),k(100)),P(i)},[i,c]),w.useEffect(()=>{if(!c)return;const U=setInterval(()=>{const se=(Date.now()-c)/1e3,ge=Math.max(i-se,0),xe=Math.max(100-se/i*100,0);I(ge),k(xe),se>=i&&(clearInterval(U),k(0),I(0),a())},100);return()=>clearInterval(U)},[i,c,a]);const J=U=>{const X=Math.floor(U/60),se=Math.floor(U%60);return`${X}:${se.toString().padStart(2,"0")}`},b=()=>{const U=x/i*100;return U>66?"timer-green":U>33?"timer-yellow":"timer-red"},_=U=>{U===""||Number.isNaN(U)||(U=Math.max(10,Math.min(600,U)),d&&d(U),P(U),V(!1))};if(c&&!D)return l.jsxs("div",{className:"relative w-full",children:[l.jsxs("div",{className:"timer-bar",children:[l.jsx("div",{className:b(),style:{width:`${g}%`}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-10 flex items-center justify-center text-base font-bold text-white drop-shadow-md",children:J(x)})]}),l.jsx("p",{className:"text-center mt-2 text-gray-600 dark:text-gray-300 text-sm",children:"Rest between sets"})]});const ne=w.useId();return p||D?l.jsxs("div",{className:"rest-timer-editor",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:ne,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rest Duration (seconds)"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"number",value:N,id:ne,onChange:U=>{const X=U.target.value;if(X===""){P("");return}const se=parseInt(X,10);Number.isNaN(se)?P(""):P(se)},className:"form-input w-20 text-center",min:"10",max:"600"}),l.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"seconds"}),l.jsx("div",{className:"ml-auto space-x-2",children:l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(N===""?i:Number(N)),children:"Save"})})]})]}),l.jsxs("div",{className:"flex space-x-2 justify-center",children:[l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(30),className:Number(N)===30?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300":"",children:"30s"}),l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(60),className:Number(N)===60?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300":"",children:"1min"}),l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(90),className:Number(N)===90?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300":"",children:"1:30"}),l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(120),className:Number(N)===120?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300":"",children:"2min"}),l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>_(180),className:Number(N)===180?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300":"",children:"3min"})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Rest between sets: ",l.jsx("span",{className:"font-medium",children:J(i)})]}),!c&&l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>V(!0),children:"Change"})]})};function Om(i){try{if(!i||i.length<10)throw console.error("Invalid VAPID key received:",i),new Error("Invalid VAPID key - too short or empty");console.log("Processing VAPID key:",i.substring(0,10)+"...");const a="=".repeat((4-i.length%4)%4),c=(i+a).replace(/-/g,"+").replace(/_/g,"/");if(!/^[A-Za-z0-9+/=]+$/.test(c))throw new Error("Invalid characters in VAPID key");let f;try{f=window.atob(c)}catch(p){throw console.error("Error decoding base64:",p),new Error("Failed to decode VAPID key")}const d=new Uint8Array(f.length);for(let p=0;p<f.length;++p)d[p]=f.charCodeAt(p);return console.log("Successfully converted VAPID key, length:",d.length),d}catch(a){throw console.error("Error processing VAPID key:",a),a}}const ed=async()=>{try{if(!("Notification"in window))return console.log("This browser does not support notifications"),{success:!1,status:"unsupported",message:"This browser does not support notifications"};console.log("Requesting notification permission...");const i=await Notification.requestPermission();return console.log("Permission result:",i),{success:i==="granted",status:i,message:i==="granted"?"Notification permission granted!":`Permission ${i}. ${i==="denied"?"Please enable notifications in your browser settings.":"Please allow notifications when prompted."}`}}catch(i){return console.error("Error requesting notification permission:",i),{success:!1,status:"error",message:`Error: ${i.message}`}}},Mm=async i=>{try{let a=await i.pushManager.getSubscription();if(a)return console.log("Using existing push subscription"),a;const f=await(await fetch("/api/notifications/vapid-public-key")).text();console.log("Received VAPID key from server:",f.substring(0,10)+"...");try{const d=Om(f);return a=await i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d}),console.log("Subscription created successfully:",a),a}catch(d){console.error("First subscription attempt failed:",d);try{return a=await i.pushManager.subscribe({userVisibleOnly:!0}),console.log("Fallback subscription created successfully"),a}catch(p){throw console.error("Fallback subscription failed:",p),new Error("All subscription attempts failed")}}}catch(a){return console.error("Error creating push subscription:",a),null}},Fm=async i=>{try{const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.token)return console.error("User not authenticated"),!1;if(!i||!i.endpoint)return console.error("Invalid subscription - missing endpoint"),!1;if(console.log("Subscription to save:",{endpoint:i.endpoint.substring(0,50)+"...",keys:i.keys?"present":"missing"}),!(await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`},body:JSON.stringify({subscription:i}),credentials:"include"})).ok)throw new Error("Failed to save subscription to server");return!0}catch(a){return console.error("Error saving subscription:",a),!1}},gi=async()=>{console.group("Notification Initialization"),console.log("Browser:",navigator.userAgent),console.log("Support check:",go()),console.log("Current permission:",td());try{if(Notification.permission!=="granted"){const f=await ed();if(console.log("Permission request result:",f),!f.success)return console.groupEnd(),f}console.log("Registering service worker...");let i;if(i=await navigator.serviceWorker.getRegistration("/gym/"),i)console.log("Using existing service worker registration");else try{i=await navigator.serviceWorker.register("/gym/service-worker.js",{scope:"/gym/"}),console.log("Service Worker registered:",i),i.installing&&(console.log("Service worker is installing, waiting for activation..."),await new Promise(f=>{i.installing.addEventListener("statechange",d=>{d.target.state==="activated"&&(console.log("Service worker activated"),f())}),setTimeout(f,5e3)}))}catch(f){console.error("Service Worker registration failed:",f);const d=await navigator.serviceWorker.getRegistrations();if(d.length>0)console.log("Using existing service worker registration as fallback"),i=d[0];else return console.groupEnd(),{success:!1,status:"sw_failed",message:`Service worker registration failed: ${f.message}`}}console.log("Creating push subscription...");const a=await Mm(i);return a?a.endpoint?(console.log("Subscription details:",{endpoint:a.endpoint.substring(0,30)+"...",hasKeys:!!a.keys,hasP256dh:a.keys&&!!a.keys.p256dh,hasAuth:a.keys&&!!a.keys.auth}),(!a.keys||!a.keys.p256dh||!a.keys.auth)&&console.warn("Subscription missing some encryption keys, but continuing anyway"),console.log("Saving subscription to server..."),await Fm(a)?(console.log("Subscription saved successfully"),console.groupEnd(),{success:!0,status:"complete",message:"Notifications set up successfully!"}):(console.error("Failed to save subscription to server"),console.groupEnd(),{success:!1,status:"save_failed",message:"Failed to save subscription to server"})):(console.error("Subscription missing endpoint"),console.groupEnd(),{success:!1,status:"invalid_subscription",message:"Push subscription is missing required endpoint"}):(console.groupEnd(),{success:!1,status:"subscription_failed",message:"Failed to create push subscription"})}catch(i){return console.error("Notification initialization error:",i),console.groupEnd(),{success:!1,status:"error",message:`Notification setup error: ${i.message}`}}},Bm=async(i,a,c)=>{try{console.log("Sending notification:",{title:i,body:a,url:c});const f=JSON.parse(localStorage.getItem("user"));if(!f||!f.token)return console.error("User not authenticated"),!1;if(!go())return console.error("Notifications not supported in this browser"),"Notification"in window&&Notification.permission==="granted"?qn(i,{body:a,url:c}):!1;if(Notification.permission!=="granted")return console.error("Notification permission not granted"),!1;let d=await navigator.serviceWorker.getRegistration("/gym/");if(!d){const x=await navigator.serviceWorker.getRegistrations();if(x.length>0)d=x[0],console.log("Using alternative service worker registration:",d.scope);else return console.error("No service worker registrations found"),!1}console.log("Service worker status:",d.active?"active":"inactive");const p=await d.pushManager.getSubscription();if(!p||!p.endpoint)return console.error("No valid push subscription found"),qn(i,{body:a,url:c});console.log("Sending push notification to server");const g=await fetch("/api/notifications/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.token}`},body:JSON.stringify({title:i,body:a,url:c}),credentials:"include"}),k=await g.json();return console.log("Server response:",k),g.ok?k.success||!1:(console.error("Server returned error:",k),qn(i,{body:a,url:c}))}catch(f){console.error("Error sending notification:",f);try{return qn(i,{body:a,url:c})}catch(d){return console.error("Local notification fallback also failed:",d),!1}}},go=()=>"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,td=()=>"Notification"in window?Notification.permission:"unsupported",qn=(i,a={})=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission!=="granted")return console.log("Notification permission not granted"),!1;try{const c={body:a.body||"This is a test notification",icon:a.icon||"/gym/logo192.png",...a},f=new Notification(i,c);return f.onclick=()=>{console.log("Notification clicked"),window.focus(),a.url&&(window.location.href=a.url),f.close()},!0}catch(c){return console.error("Error showing notification:",c),!1}},$m=async()=>{console.group("Notification System Diagnostics"),console.log("Notification API supported:","Notification"in window),console.log("Service Worker API supported:","serviceWorker"in navigator),console.log("Push API supported:","PushManager"in window),console.log("Current permission:",Notification.permission);try{const i=await navigator.serviceWorker.getRegistrations();console.log("Service worker registrations:",i.length),i.forEach((c,f)=>{console.log(`Registration ${f+1}:`,{scope:c.scope,active:!!c.active,installing:!!c.installing,waiting:!!c.waiting}),c.active&&console.log(`Registration ${f+1} state:`,c.active.state)});const a=i.find(c=>c.scope.includes("/gym/"));if(a){console.log("GymTracker service worker found:",a.scope);try{const c=await a.pushManager.getSubscription();console.log("Push subscription:",c?"exists":"none"),c&&console.log("Subscription details:",{endpoint:c.endpoint.substring(0,30)+"...",hasKeys:!!c.keys,hasP256dh:c.keys&&!!c.keys.p256dh,hasAuth:c.keys&&!!c.keys.auth,expirationTime:c.expirationTime})}catch(c){console.error("Error checking subscription:",c)}}else console.warn("GymTracker service worker not found")}catch(i){console.error("Error checking service workers:",i)}try{const i=await fetch("/api/notifications/vapid-public-key");if(i.ok){const a=await i.text();console.log("VAPID key retrieved:",a.substring(0,10)+"..."),console.log("VAPID key length:",a.length)}else console.error("Failed to retrieve VAPID key:",i.status,i.statusText)}catch(i){console.error("Error retrieving VAPID key:",i)}console.groupEnd()},Am=async(i,a,c,f)=>{try{console.log("Scheduling notification to be sent in",f,"seconds:",{title:i,body:a});const d=JSON.parse(localStorage.getItem("user"));if(!d||!d.token)return console.error("User not authenticated"),{success:!1};if(!go())return console.error("Notifications not supported in this browser"),{success:!1};if(Notification.permission!=="granted")return console.error("Notification permission not granted"),{success:!1};const p=await fetch("/api/notifications/schedule",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.token}`},body:JSON.stringify({title:i,body:a,url:c,delaySeconds:f}),credentials:"include"}),g=await p.json();return console.log("Server schedule response:",g),p.ok?{success:!0,notificationId:g.notificationId}:(console.error("Server returned error:",g),{success:!1})}catch(d){return console.error("Error scheduling notification:",d),{success:!1}}},Fu=async i=>{try{if(!i)return console.error("No notification ID provided"),!1;console.log("Canceling notification:",i);const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.token)return console.error("User not authenticated"),!1;const c=await fetch("/api/notifications/cancel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`},body:JSON.stringify({notificationId:i}),credentials:"include"}),f=await c.json();return console.log("Server cancellation response:",f),c.ok?!0:(console.error("Server returned error:",f),!1)}catch(a){return console.error("Error canceling notification:",a),!1}};window.debugNotifications=$m;const sn="global_rest_timer_start",on="global_rest_timer_duration",Xn="global_notification_id",Wm=({isWorkoutActive:i,darkMode:a})=>{var K;const{id:c,day:f}=Si(),[d,p]=w.useState(null),[g,k]=w.useState(null),[x,I]=w.useState(0),[N,P]=w.useState([]),[D,V]=w.useState(!0),[J,b]=w.useState(!1),[_,ne]=w.useState(!1),[U,X]=w.useState(90),[se,ge]=w.useState(null),[xe,Z]=w.useState(!1),[H,pe]=w.useState(navigator.onLine),[ue,me]=w.useState(null),oe=w.useRef({wasHidden:!1,timerKey:null}),ae=hr();w.useEffect(()=>{const B=()=>{console.log("Exercise component is now online"),pe(!0)},R=()=>{console.log("Exercise component is now offline"),pe(!1)};return window.addEventListener("online",B),window.addEventListener("offline",R),()=>{window.removeEventListener("online",B),window.removeEventListener("offline",R)}},[]),w.useEffect(()=>{const B=()=>{if(document.visibilityState==="visible"&&oe.current.wasHidden){if(oe.current.wasHidden=!1,d&&d._id){const R=`timer_${d._id}`,Y=localStorage.getItem(R);if(Y){const de=parseInt(Y),ve=(Date.now()-de)/1e3;console.log("Visibility restored, checking timer:",{elapsedSeconds:ve,restTime:U,hasExpired:ve>=U}),ve>=U?(localStorage.removeItem(R),me(null),console.log("Timer expired while in background, server notification should have been sent")):me(de)}}}else document.visibilityState==="hidden"&&(oe.current.wasHidden=!0,d&&d._id&&(oe.current.timerKey=`timer_${d._id}`))};return document.addEventListener("visibilitychange",B),()=>{document.removeEventListener("visibilitychange",B)}},[d,U]),w.useEffect(()=>{f&&(async()=>{try{const R=po(f);if(H)try{const Y=JSON.parse(localStorage.getItem("user")),de=await fetch(`/api/workouts/${f}`,{headers:{Authorization:`Bearer ${Y.token}`},credentials:"include"});if(!de.ok)throw new Error("Failed to fetch workout data");const Pe=await de.json();P(Pe.exercises)}catch(Y){if(console.error("Server fetch error, trying localStorage:",Y),R&&R.exercises)console.log("Using locally stored workout exercises"),P(R.exercises);else throw new Error("Failed to load workout data and no cache available")}else if(R&&R.exercises)console.log("Using locally stored workout exercises (offline mode)"),P(R.exercises);else throw new Error("No cached workout data available offline")}catch(R){k(R.message)}})()},[f,H]),w.useEffect(()=>{(async()=>{try{V(!0);const R=Wt(c);if(H)if(R)console.log("Using locally stored exercise data"),p(R),Z(!0),R.restTime&&X(R.restTime);else try{const ve=JSON.parse(localStorage.getItem("user")),je=await fetch(`/api/exercises/${c}`,{headers:{Authorization:`Bearer ${ve.token}`},credentials:"include"});if(!je.ok)throw new Error("Failed to fetch exercise data");const Ie=await je.json();p(Ie),xt(Ie),Ie.restTime?X(Ie.restTime):(async()=>{const Rr=localStorage.getItem("active_program");if(Rr&&He[Rr]){const Rt=He[Rr];X(Rt.defaultRestTime||90)}else try{const Rt=JSON.parse(localStorage.getItem("user")),cn=await fetch("/api/user/active-program",{headers:{Authorization:`Bearer ${Rt.token}`},credentials:"include"});if(cn.ok){const Vt=await cn.json();if(Vt.activeProgram&&He[Vt.activeProgram]){const gr=He[Vt.activeProgram];X(gr.defaultRestTime||90),localStorage.setItem("active_program",Vt.activeProgram)}}}catch(Rt){console.error("Error fetching active program:",Rt)}})()}catch(ve){console.error("Server fetch failed, trying workout cache:",ve);const je=po(f);if(je&&je.exercises){const Ie=je.exercises.find(rt=>rt._id===c);if(Ie)console.log("Found exercise in cached workout data"),p(Ie),xt(Ie),Ie.restTime&&X(Ie.restTime);else throw new Error("Exercise not found in cached data")}else throw ve}else if(R)console.log("Using locally stored exercise data (offline mode)"),p(R),Z(!0),R.restTime&&X(R.restTime);else{const ve=po(f);if(ve&&ve.exercises){const je=ve.exercises.find(Ie=>Ie._id===c);if(je)console.log("Found exercise in cached workout data"),p(je),xt(je),je.restTime&&X(je.restTime);else throw new Error("Exercise not found in cached data")}else throw new Error("No cached data available offline")}const Y=localStorage.getItem(sn),de=localStorage.getItem(on);if(Y&&de){const ve=parseInt(Y),je=parseInt(de),Ie=(Date.now()-ve)/1e3;if(console.log("Global timer found:",{startTime:ve,duration:je,elapsedSeconds:Ie,remaining:je-Ie}),Ie<je){console.log("Using global timer across exercises"),me(ve),X(je);const rt=localStorage.getItem(Xn);rt&&ge(rt),V(!1);return}else console.log("Global timer expired, cleaning up"),localStorage.removeItem(sn),localStorage.removeItem(on),localStorage.removeItem(Xn)}console.log("No active global timer, checking exercise-specific timer");const Pe=localStorage.getItem(`timer_${c}`);if(Pe){const ve=parseInt(Pe);(Date.now()-ve)/1e3<U?me(ve):localStorage.removeItem(`timer_${c}`)}}catch(R){console.error("Error fetching exercise:",R),k(R.message)}finally{V(!1)}})()},[c,f,U,H]),w.useEffect(()=>{if(N.length>0&&d){const B=N.findIndex(R=>R._id===d._id);B!==-1&&I(B)}},[d,N]);const fe=w.useCallback(B=>{if(!N||!f)return;const R=B==="next"?x+1:x-1;if(R>=0&&R<N.length){const Y=N[R];Y&&Y._id&&ae(`/workout/${f}/exercise/${Y._id}`)}},[x,N,ae,f]),Ee=async B=>{try{if(!d)return;X(B);const R={...d,restTime:B};if(xt(R),p(R),Z(!0),dr(f),H&&!d._id.startsWith("temp_"))try{const Y=JSON.parse(localStorage.getItem("user"));await fetch(`/api/exercises/${d._id}/rest-time`,{method:"PATCH",headers:{Authorization:`Bearer ${Y.token}`,"Content-Type":"application/json"},body:JSON.stringify({restTime:B}),credentials:"include"})}catch(Y){console.error("Failed to update rest time on server:",Y)}}catch(R){console.error("Failed to update rest time:",R),k("Failed to update rest time, but changes are saved locally")}},ke=w.useCallback(()=>{d&&(me(null),localStorage.removeItem(`timer_${d._id}`),localStorage.removeItem(`notification_${d._id}`),localStorage.removeItem(sn),localStorage.removeItem(on),localStorage.removeItem(Xn),ge(null),console.log("Timer completed - cleared both local and global timers"))},[d]);w.useEffect(()=>{if(!ue||!d)return;localStorage.setItem(sn,ue.toString()),localStorage.setItem(on,U.toString());const R=setInterval(()=>{(Date.now()-ue)/1e3>=U&&(console.log("Timer expired, handling completion"),ke())},500),Y=Math.max(0,U*1e3-(Date.now()-ue)),de=setTimeout(()=>{console.log("Backup timeout triggered for timer completion"),ke()},Y+1e3);return()=>{clearInterval(R),clearTimeout(de)}},[ue,d,ke,U]),w.useEffect(()=>{if(d&&d._id){const B=localStorage.getItem(`notification_${d._id}`);B&&ge(B)}},[d]);const Se=w.useMemo(()=>ue?(Date.now()-ue)/1e3<U:!1,[ue,U]),L=w.useCallback(async B=>{if(!(!i||!d))try{const R=d.sets.map((de,Pe)=>{if(Pe===B){const ve=!de.completed;if(ve){const je=Date.now();if(me(je),localStorage.setItem(`timer_${d._id}`,je.toString()),localStorage.setItem(sn,je.toString()),localStorage.setItem(on,U.toString()),console.log("Timer started with global persistence:",{exerciseId:d._id,setIndex:B,startTime:je,restTime:U}),se&&H&&Fu(se).then(Ie=>{Ie?console.log("Previous notification canceled successfully"):console.error("Failed to cancel previous notification")}),H){const Ie=Math.max(U-3,1);Am("Timer","Done",window.location.href,Ie).then(rt=>{rt.success?(console.log("Notification scheduled successfully with ID:",rt.notificationId),ge(rt.notificationId),localStorage.setItem(`notification_${d._id}`,rt.notificationId),localStorage.setItem(Xn,rt.notificationId)):console.error("Failed to schedule notification")})}}else se&&H&&Fu(se).then(je=>{je?console.log("Notification canceled on set uncheck"):console.error("Failed to cancel notification on set uncheck")}),ge(null),me(null),localStorage.removeItem(`timer_${d._id}`),localStorage.removeItem(`notification_${d._id}`),localStorage.removeItem(sn),localStorage.removeItem(on),localStorage.removeItem(Xn);return{...de,completed:ve}}return de}),Y={...d,sets:R};!Y.history&&d.history&&(console.log(`Preserving existing history with ${d.history.length} entries`),Y.history=d.history),p(Y),xt(Y),Z(!0),dr(f)}catch(R){console.error("Set completion error:",R),k(R.message)}},[d,i,U,se,H,f]),F=async()=>{if(d)try{b(!0);const B=d.sets[d.sets.length-1];if(!H||d._id.startsWith("temp_")){z(B);return}try{const R=JSON.parse(localStorage.getItem("user")),Y=await fetch(`/api/exercises/${d._id}/sets`,{method:"POST",headers:{Authorization:`Bearer ${R.token}`,"Content-Type":"application/json"},body:JSON.stringify({weight:B.weight,reps:B.reps}),credentials:"include"});if(!Y.ok){const ve=await Y.json();throw new Error(ve.error||"Failed to add new set")}const de=await fetch(`/api/exercises/${d._id}`,{headers:{Authorization:`Bearer ${R.token}`},credentials:"include"});if(!de.ok)throw new Error("Failed to fetch updated exercise data");const Pe=await de.json();p(Pe),xt(Pe)}catch(R){console.error("Server error, falling back to offline mode:",R),z(B)}}catch(B){console.error("Add set error:",B),k(B.message)}finally{b(!1)}},z=B=>{const R={weight:B.weight,reps:B.reps,completed:!1},Y={...d};Y.sets=[...Y.sets,R],p(Y),Z(!0),xt(Y),dr(f),console.log("Set added locally")},y=async B=>{if(d){if(d.sets.length<=1){k("Cannot remove the last set");return}try{if(b(!0),!H||d._id.startsWith("temp_")){C(B);return}try{const R=JSON.parse(localStorage.getItem("user")),Y=await fetch(`/api/exercises/${d._id}/sets/${B}`,{method:"DELETE",headers:{Authorization:`Bearer ${R.token}`},credentials:"include"});if(!Y.ok){const ve=await Y.json();throw new Error(ve.error||"Failed to remove set")}const de=await fetch(`/api/exercises/${d._id}`,{headers:{Authorization:`Bearer ${R.token}`},credentials:"include"});if(!de.ok)throw new Error("Failed to fetch updated exercise data");const Pe=await de.json();p(Pe),xt(Pe)}catch(R){console.error("Server error, falling back to offline mode:",R),C(B)}}catch(R){console.error("Remove set error:",R),k(R.message)}finally{b(!1)}}},C=B=>{const R={...d};R.sets=d.sets.filter((Y,de)=>de!==B),p(R),Z(!0),xt(R),dr(f),console.log("Set removed locally")},T=w.useCallback((B,R)=>{if(!d)return;const Y=d.sets.map((Pe,ve)=>ve===B?{...Pe,weight:parseFloat(R)}:Pe),de={...d,sets:Y};p(de),xt(de),Z(!0),dr(f)},[d,f]),A=w.useCallback((B,R)=>{if(!d)return;const Y=d.sets.map((Pe,ve)=>ve===B?{...Pe,reps:parseInt(R)}:Pe),de={...d,sets:Y};p(de),xt(de),Z(!0),dr(f)},[d,f]);if(g)return l.jsxs(qe,{type:"error",children:["Error: ",g]});if(!d||!Array.isArray(d.sets))return null;const Q=d.sets.filter(B=>B.completed).length;return l.jsxs("div",{children:[l.jsxs(tt,{className:"mb-8",children:[l.jsxs("div",{className:"card-gradient-header",children:[l.jsxs("div",{className:"flex items-center mb-1 -ml-2",children:[l.jsx("button",{onClick:()=>ae(`/workout/${f}`),className:"hover:bg-white/10 rounded-full p-1 transition-colors flex-shrink-0","aria-label":"Back to workout",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsxs("h1",{className:"text-xl font-bold",children:[d.name,((K=d._id)==null?void 0:K.startsWith("temp_"))&&l.jsx("span",{className:"ml-2 text-xs bg-yellow-500/30 text-white px-2 py-0.5 rounded-full",children:"Added offline"})]})]}),l.jsxs("div",{className:"flex items-center text-indigo-100 text-sm",children:[l.jsxs("span",{children:[Q," of ",d.sets.length," sets completed"]}),xe&&!H&&l.jsx("span",{className:"ml-2 bg-yellow-500/30 text-white text-xs px-2 py-0.5 rounded-full",children:"Saved locally"})]})]}),l.jsxs("div",{className:"px-6 py-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Exercise ",x+1," of ",(N==null?void 0:N.length)||0]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(ye,{onClick:()=>fe("prev"),disabled:x===0,variant:"secondary",rounded:!0,size:"sm",className:"flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Previous"})]}),l.jsxs(ye,{onClick:()=>fe("next"),disabled:x===((N==null?void 0:N.length)||0)-1,variant:"secondary",rounded:!0,size:"sm",className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Next"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-value",style:{width:`${(x+1)/((N==null?void 0:N.length)||1)*100}%`}})})]})]}),!H&&xe&&l.jsx(qe,{type:"warning",className:"mb-6",children:"You're currently offline. Changes will be saved locally and synced when you're back online."}),Se&&l.jsx(qe,{type:"info",className:"mb-6",children:l.jsxs("div",{children:[l.jsxs("h3",{className:"text-blue-800 dark:text-blue-300 font-medium mb-3 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Rest Timer"]}),l.jsx(Mu,{onComplete:ke,startTime:ue,duration:U,darkMode:a,onDurationChange:Ee})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Sets"}),l.jsx(ye,{onClick:()=>ne(!_),variant:"secondary",size:"sm",className:`flex items-center space-x-1 ${_?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300"}`,disabled:J,children:_?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Done"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),l.jsx("span",{children:"Edit Sets"})]})})]}),l.jsx("div",{className:"space-y-3",children:d.sets.map((B,R)=>l.jsx(hm,{index:R,set:B,onWeightChange:T,onRepsChange:A,onCompletionToggle:L,onRemove:()=>y(R),canRemove:d.sets.length>1,isWorkoutActive:i,editMode:_},R))}),_&&l.jsx("div",{className:"mt-4",children:l.jsxs(ye,{onClick:F,variant:"secondary",className:"w-full py-2 flex items-center justify-center space-x-2 border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/60",disabled:J,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),l.jsx("span",{children:"Add Set"})]})})]}),_&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Rest Timer"}),l.jsxs(tt,{className:"p-4",children:[l.jsx(Mu,{duration:U,darkMode:a,onDurationChange:Ee,editMode:!0}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:["Customize your rest time between sets. Recommended rest times vary by program:",l.jsx("br",{})," Strength: 3-5 minutes for compound exercises, 1-2 minutes for isolation",l.jsx("br",{})," Hypertrophy: 1-2 minutes",l.jsx("br",{})," Endurance: 30-60 seconds"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs(ye,{onClick:()=>ae(`/exercise/${c}/history`),variant:"primary",className:"rounded-lg p-4 flex items-center justify-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"View Exercise History"]})})]})},bm=({darkMode:i,setDarkMode:a})=>(w.useEffect(()=>{if(i){document.documentElement.classList.add("dark");const c=document.querySelector('meta[name="theme-color"]:not([media])');c&&c.setAttribute("content","#312e81")}else{document.documentElement.classList.remove("dark");const c=document.querySelector('meta[name="theme-color"]:not([media])');c&&c.setAttribute("content","#4f46e5")}localStorage.setItem("darkMode",i?"true":"false")},[i]),l.jsx("button",{onClick:()=>a(!i),className:"relative p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800","aria-pressed":i,"aria-label":"Toggle dark mode",children:i?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})),Um=({darkMode:i})=>{const{id:a}=Si(),[c,f]=w.useState([]),[d,p]=w.useState(""),[g,k]=w.useState(!0),[x,I]=w.useState(null),[N,P]=w.useState(navigator.onLine),[D,V]=w.useState({}),[J,b]=w.useState(!1),[_,ne]=w.useState(null),U=hr();w.useEffect(()=>{const Z=()=>{console.log("ExerciseHistory is now online"),P(!0)},H=()=>{console.log("ExerciseHistory is now offline"),P(!1)};return window.addEventListener("online",Z),window.addEventListener("offline",H),()=>{window.removeEventListener("online",Z),window.removeEventListener("offline",H)}},[]);const X=w.useCallback((Z=[])=>Z.map((H,pe)=>{if(!H)return null;let ue=new Date;try{ue=H.date?new Date(H.date):new Date}catch(fe){console.error("Invalid date in history entry:",fe)}const me=Array.isArray(H.sets)?H.sets.map(fe=>{const Ee=fe&&typeof fe.weight<"u"?fe.weight:0,ke=fe&&typeof fe.reps<"u"?fe.reps:0;return{weight:Ee,reps:ke}}):[];let oe;try{oe=H.date?new Date(H.date).getTime().toString():`entry-${pe}`}catch(fe){console.error("Failed to generate fallback history id:",fe),oe=`entry-${pe}`}const ae=H._id||H.id||oe;return{...H,_id:ae,id:ae,date:ue,sets:me}}).filter(Boolean).sort((H,pe)=>{const ue=new Date(H.date);return new Date(pe.date)-ue}),[]);w.useEffect(()=>{(async()=>{let H=null,pe=null,ue=null;try{console.log(`Starting history fetch for exercise ID: ${a}`),k(!0);try{const ae=Wt(a);ae?(console.log(`Found local exercise: ${ae.name}`),p(ae.name),ae.history&&Array.isArray(ae.history)?(console.log(`Local history has ${ae.history.length} entries`),pe=[...ae.history],ae.history.length>0&&console.log("Sample local history entry:",JSON.stringify(ae.history[0],null,2))):console.log("No local history found or history is not an array")):console.log("No local exercise data found")}catch(ae){console.error("Error accessing local storage:",ae)}if(N)try{console.log("Attempting to fetch history from server...");const ae=JSON.parse(localStorage.getItem("user"));if(!ae||!ae.token)throw new Error("User not authenticated");const fe=await fetch(`/api/exercises/${a}/history`,{headers:{Authorization:`Bearer ${ae.token}`},credentials:"include"});if(console.log("Server response status:",fe.status),!fe.ok)throw new Error(`Server returned ${fe.status}: ${fe.statusText}`);H=await fe.json(),console.log(`Server returned ${H.length} history entries`),H.length>0&&(console.log("Sample server history entry:",JSON.stringify(H[0],null,2)),!d&&H[0].exerciseName&&p(H[0].exerciseName))}catch(ae){console.error("Error fetching from server:",ae),ue=`Server error: ${ae.message}`}let me=[];H&&H.length>0?(console.log("Using server data for history"),me=H,I(null)):pe&&pe.length>0?(console.log("Using local data for history"),me=pe,ue&&console.log("Using cached data due to server error:",ue)):(console.log("No history data available"),ue&&I(ue));const oe=X(me);console.log(`Processed ${oe.length} history entries`),f(oe),V({serverEntries:H?H.length:0,localEntries:pe?pe.length:0,processedEntries:oe.length,useServerData:!!H&&H.length>0,isOnline:N})}catch(me){console.error("Error in history fetching process:",me),I(`Failed to load exercise history: ${me.message}`),f([])}finally{k(!1)}})()},[a,N,d,X]);const se=async Z=>{if(!Z)return;const H=Z._id||Z.id;if(!H){I("Unable to delete this history entry because it is missing an identifier.");return}if(!N){I("Reconnect to the internet to delete history entries.");return}if(window.confirm("Delete this session permanently? This cannot be undone."))try{ne(H);const ue=JSON.parse(localStorage.getItem("user"));if(!ue||!ue.token)throw new Error("User not authenticated");const me=await fetch(`/api/exercises/${a}/history/${H}`,{method:"DELETE",headers:{Authorization:`Bearer ${ue.token}`,"Content-Type":"application/json"},credentials:"include"});if(!me.ok){const fe=await me.text();throw new Error(fe||"Failed to delete history entry")}const oe=await me.json(),ae=X(oe.history||[]);f(ae),km(a,H),I(null),ae.length===0&&b(!1)}catch(ue){console.error("Error deleting history entry:",ue),I(`Failed to delete history entry: ${ue.message}`)}finally{ne(null)}},ge=(Z,H)=>{try{if(!Z)return console.error("Null or undefined history entry at index",H),l.jsx(tt,{className:"p-3 border-red-300",children:l.jsx("p",{className:"text-red-500",children:"Invalid history entry: missing data"})},`error-${H}`);console.log(`Rendering history entry ${H}:`,Z),console.log(`Entry date: ${Z.date}`),console.log(`Entry sets: ${JSON.stringify(Z.sets)}`);const pe=Z._id||Z.id||H,ue=_===pe||!N||!pe,me=_===pe?"Deleting...":"Delete",oe=Z.sets,ae=Array.isArray(oe)&&oe.length>0;ae||console.warn(`History entry at index ${H} has no sets or sets is not an array:`,Z);let fe="Unknown Date";try{fe=new Date(Z.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(Ee){console.error("Error formatting date:",Ee)}return l.jsxs(tt,{className:H===0?"ring-2 ring-indigo-500 dark:ring-indigo-600":"",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-750 px-6 py-4 border-b dark:border-gray-700",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3",children:[l.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-200",children:fe}),l.jsxs("div",{className:"flex items-center gap-3",children:[H===0&&l.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-900/60 text-indigo-800 dark:text-indigo-300 text-xs px-2 py-1 rounded-full",children:"Most Recent"}),J&&l.jsx("button",{onClick:()=>se(Z),disabled:ue,className:`text-sm font-medium px-3 py-1 rounded-full border transition-colors ${ue?"text-gray-400 border-gray-300 dark:border-gray-600 cursor-not-allowed":"text-red-600 border-red-300 hover:bg-red-50 dark:text-red-300 dark:border-red-300/60 dark:hover:bg-red-900/20"}`,title:N?"":"Reconnect to delete history entries",children:me})]})]})}),l.jsx("div",{className:"p-6",children:ae?l.jsx("div",{className:"space-y-3",children:oe.map((Ee,ke)=>{if(!Ee)return console.warn(`Invalid set data at index ${ke}:`,Ee),l.jsxs("div",{className:"flex items-center p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded text-yellow-700 dark:text-yellow-300",children:[l.jsx("div",{className:"set-number flex-shrink-0",children:ke+1}),l.jsx("div",{className:"ml-4",children:"Invalid set data"})]},ke);const Se=typeof Ee.weight<"u",L=typeof Ee.reps<"u",F=Se?Ee.weight:0,z=L?Ee.reps:0;return console.log(`Set ${ke}: weight=${F}, reps=${z}, hasWeight=${Se}, hasReps=${L}`),l.jsxs("div",{className:"flex items-center space-x-4 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("div",{className:"set-number flex-shrink-0",children:ke+1}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Weight"}),l.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[F," kg"]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Reps"}),l.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:z})]})]})]},ke)})}):l.jsxs("div",{className:"text-center p-4 text-yellow-600 dark:text-yellow-400",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("p",{children:"No set data available for this entry"}),l.jsxs("p",{className:"mt-2 text-xs",children:["Debug: ",JSON.stringify(Z)]})]})})]},pe)}catch(pe){return console.error("Error rendering history entry:",pe),l.jsxs(tt,{className:"p-3 border-red-300",children:[l.jsxs("p",{className:"text-red-500",children:["Error rendering entry: ",pe.message]}),l.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-32 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:JSON.stringify(Z,null,2)})]},`error-${H}`)}},xe=()=>null;return g?l.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[l.jsx(mm,{text:"Loading exercise history..."}),l.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Retrieving your workout data..."})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:[d||"Exercise"," History"]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track your progress over time"})]}),l.jsxs("div",{className:"flex w-full md:w-auto flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[c.length>0&&l.jsx(ye,{onClick:()=>b(Z=>!Z),variant:"secondary",rounded:!0,className:`flex items-center justify-center space-x-2 ${J?"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-200":"bg-white/20 text-gray-800 dark:text-gray-200"}`,children:J?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Done"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),l.jsx("span",{children:"Edit"})]})}),l.jsxs(ye,{onClick:()=>U(-1),variant:"secondary",rounded:!0,className:"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 flex items-center justify-center space-x-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),l.jsx("span",{children:"Back"})]})]})]}),xe(),x&&l.jsx(qe,{type:"error",className:"mb-4",children:x}),J&&l.jsx(qe,{type:"warning",className:"mb-4",children:"Delete mode enabled. Removing a session is permanent and cannot be undone."}),!N&&c.length>0&&l.jsx(qe,{type:"info",className:"mb-4",children:"You're currently offline. Showing cached exercise history."}),l.jsx("div",{className:"space-y-6",children:c.length===0?l.jsxs(tt,{className:"p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"No history available"}),l.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Complete sets of this exercise to see your progress"})]}):l.jsx("div",{className:"space-y-4",children:c.map((Z,H)=>ge(Z,H))})})]})},Vm=()=>{const[i,a]=w.useState("checking"),[c,f]=w.useState(!1),[d,p]=w.useState(""),[g,k]=w.useState(!1),[x,I]=w.useState([]);w.useEffect(()=>{a(td())},[]);const N=(_,ne,U=null)=>{I(X=>[{id:Date.now(),title:_,success:ne,details:U,time:new Date().toLocaleTimeString()},...X])},P=async()=>{k(!0),p("");const _=await ed();if(a(_.status),p(_.message),N("Permission Request",_.success,_),_.success){const ne=await gi();p(ne.message),N("Notification Setup",ne.success,ne)}k(!1)},D=()=>{const _=qn("Test Local Notification",{body:"This is a direct browser notification (not a push notification)",requireInteraction:!0});N("Local Notification",_),p(_?"Local notification sent! If you don't see it, check your system notification settings.":"Could not show local notification. Make sure notifications are enabled in your browser settings.")},V=async()=>{k(!0);const _=await Bm("Test Push Notification","This is a server push notification test",window.location.href);N("Push Notification",_),p(_?"Push notification sent! Check your notifications.":"Failed to send push notification. Check console for details."),k(!1)},J=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,b=go();return l.jsxs("div",{className:"notification-helper mb-6 bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-medium flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-600 dark:text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),"Notification Settings"]}),l.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>f(!c),children:c?"Hide Details":"Show Details"})]}),c&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Status:"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${i==="granted"?"bg-green-500":i==="denied"?"bg-red-500":"bg-yellow-500"}`}),l.jsx("span",{className:"font-medium",children:i==="granted"?"Allowed":i==="denied"?"Blocked":i==="unsupported"?"Unsupported":"Not set"})]})]}),!b&&l.jsxs(qe,{type:"warning",className:"mb-3",children:["Your browser doesn't fully support web push notifications.",J&&" On iOS, add this site to your home screen for the best notification experience."]}),d&&l.jsx(qe,{type:d.includes("success")||i==="granted"?"success":i==="denied"?"error":"info",className:"mb-3",children:d}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsx(ye,{onClick:P,variant:"primary",disabled:g||i==="denied",loading:g,children:i==="granted"?"Notifications Enabled":i==="denied"?"Notifications Blocked":"Enable Notifications"}),i==="granted"&&l.jsxs(l.Fragment,{children:[l.jsx(ye,{onClick:D,variant:"secondary",disabled:g,children:"Test Local Notification"}),l.jsx(ye,{onClick:V,variant:"secondary",disabled:g,children:"Test Push Notification"})]})]}),x.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Test Results:"}),l.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md text-sm",children:x.map(_=>l.jsxs("div",{className:"p-2 border-b last:border-b-0 border-gray-200 dark:border-gray-600 flex items-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${_.success?"bg-green-500":"bg-red-500"}`}),l.jsxs("span",{className:"flex-1",children:[_.title,": ",_.success?"Success":"Failed"]}),l.jsx("span",{className:"text-gray-500 text-xs",children:_.time})]},_.id))})]}),i==="denied"&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:["You've blocked notifications for this site. To enable them, you'll need to change your browser settings.",l.jsxs("ul",{className:"list-disc ml-5 mt-2",children:[l.jsx("li",{children:"In Chrome: Click the lock icon in the address bar  Site settings  Allow notifications"}),l.jsx("li",{children:"In Safari: Preferences  Websites  Notifications  Find this site and allow"}),l.jsx("li",{children:"In Firefox: Click the lock icon  Connection secure  More Information  Permissions  Notifications  Allow"})]})]}),J&&l.jsxs("div",{className:"mt-3 border-t pt-3 border-gray-200 dark:border-gray-700",children:[l.jsx("strong",{className:"text-sm",children:"iOS Instructions:"}),l.jsxs("ol",{className:"list-decimal ml-5 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[l.jsx("li",{children:"Tap the share button at the bottom of your screen"}),l.jsx("li",{children:'Scroll down and tap "Add to Home Screen"'}),l.jsx("li",{children:'Tap "Add" in the top right corner'}),l.jsx("li",{children:"Open the app from your home screen"}),l.jsx("li",{children:"Then enable notifications when prompted"})]})]})]})]})},Hm=({darkMode:i,setDarkMode:a})=>{const[c,f]=w.useState(null),[d,p]=w.useState(!1),[g,k]=w.useState(!1),x=hr();w.useEffect(()=>{I()},[]);const I=async()=>{try{const D=JSON.parse(localStorage.getItem("user")),V=await fetch("/api/user/active-program",{headers:{Authorization:`Bearer ${D.token}`},credentials:"include"});if(V.ok){const J=await V.json();f(J.activeProgram)}}catch(D){console.error("Error fetching active program:",D)}},N=()=>{p(!d)},P=async D=>{try{k(!0);const V=He[D];if(!V)throw new Error("Invalid program selected");const J=JSON.parse(localStorage.getItem("user")),b=await fetch("/api/workouts/apply-program",{method:"POST",headers:{Authorization:`Bearer ${J.token}`,"Content-Type":"application/json"},body:JSON.stringify({program:V,programId:D}),credentials:"include"});if(!b.ok){const _=await b.json();throw new Error(_.error||"Failed to apply program")}f(D),p(!1)}catch(V){console.error("Error applying program:",V)}finally{k(!1)}};return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Settings"}),l.jsxs(ye,{onClick:()=>x(-1),variant:"secondary",rounded:!0,className:"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 flex items-center space-x-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),l.jsx("span",{children:"Back"})]})]}),l.jsxs(tt,{className:"mb-6",children:[l.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Theme Settings"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Dark Mode"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Toggle between light and dark theme"})]}),l.jsx(bm,{darkMode:i,setDarkMode:a})]})})]}),l.jsxs(tt,{className:"mb-6",children:[l.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Notifications"})}),l.jsx("div",{className:"p-6",children:l.jsx(Vm,{})})]}),l.jsxs(tt,{className:"mb-6",children:[l.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Workout Program"})}),l.jsx("div",{className:"p-6",children:c&&He[c]?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-600 dark:text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"})}),l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:["Active Program: ",l.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:He[c].name})]})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm ml-7 mb-4",children:He[c].description}),l.jsxs(ye,{onClick:N,variant:"secondary",className:"flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),l.jsx("span",{children:"Change Program"})]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No active program selected. Choose a workout program to get started."}),l.jsxs(ye,{onClick:N,variant:"secondary",className:"flex items-center space-x-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"})}),l.jsx("span",{children:"Choose Workout Program"})]})]})})]}),d&&l.jsx(xm,{onSelectProgram:P,darkMode:i})]})},Jm=()=>{const[i,a]=w.useState(null),[c,f]=w.useState(()=>localStorage.getItem("isWorkoutActive")==="true"),[d,p]=w.useState(!0),[g,k]=w.useState(!1),[x,I]=w.useState(navigator.onLine),[N,P]=w.useState(!1);w.useEffect(()=>{if(document.dispatchEvent(new Event("reactLoaded")),"caches"in window){const V=["/api/workouts","/api/user/active-program"];caches.open("gymtracker-prefetch").then(J=>{V.forEach(b=>{fetch(b,{credentials:"include"}).then(_=>{_.ok&&J.put(b,_)}).catch(_=>console.log("Prefetch failed:",_))})})}},[]),w.useEffect(()=>{const V=()=>{const b=Ut()||[];P(b.length>0)};V();const J=setInterval(V,1e4);return()=>clearInterval(J)},[]),w.useEffect(()=>{const V=()=>{console.log("App is now online"),I(!0)},J=()=>{console.log("App is now offline"),I(!1)};return window.addEventListener("online",V),window.addEventListener("offline",J),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",J)}},[]),w.useEffect(()=>{localStorage.getItem("darkMode")==="true"&&k(!0),(async()=>{var b;try{const _=localStorage.getItem("user"),ne=_?JSON.parse(_):null;ne&&(a(ne),gi().then(X=>{X&&console.log("Push notifications initialized successfully")}));const U=await fetch("/api/auth/check",{credentials:"include"});if(U.ok){const X=await U.json();if(X.authenticated){const se={...ne||{},...X.user||{},token:((b=X.user)==null?void 0:b.token)||(ne==null?void 0:ne.token)};a(se),localStorage.setItem("user",JSON.stringify(se)),gi().then(ge=>{ge&&console.log("Push notifications initialized successfully")})}}}catch(_){console.error("Auth check error:",_)}finally{p(!1)}})()},[]);const D=async()=>{try{await fetch("/api/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("user"),a(null)}catch(V){console.error("Logout error:",V)}};return d?null:l.jsx(um,{basename:"/gym",children:l.jsxs("div",{className:"app-container",children:[l.jsx("header",{className:"main-header",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Lr,{to:"/",className:"flex items-center space-x-2",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),l.jsx("path",{d:"M5 8h1a4 4 0 0 1 0 8H5"}),l.jsx("path",{d:"M2 8h2v8H2z"}),l.jsx("path",{d:"M20 8h2v8h-2z"}),l.jsx("path",{d:"M7 12h10"})]}),l.jsx("span",{className:"text-xl font-bold tracking-tight",children:"GymTracker"})]}),!x&&l.jsx("span",{className:"bg-yellow-500/30 text-white text-xs px-2 py-0.5 rounded-full",children:"Offline"}),x&&N&&c&&l.jsx("svg",{className:"h-5 w-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 4",children:l.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Lr,{to:"/settings",className:"text-white p-1 rounded-full hover:bg-white/10 transition-colors","aria-label":"Settings",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium hidden md:inline",children:i.email}),l.jsx("button",{onClick:D,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-3 py-1 rounded-full text-sm transition-all duration-200 border border-white border-opacity-20",children:"Logout"})]}):l.jsxs("div",{className:"space-x-4",children:[l.jsx(Lr,{to:"/login",className:"text-white hover:text-indigo-100 transition-colors",children:"Login"}),l.jsx(Lr,{to:"/signup",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-3 py-1 rounded-full text-sm transition-all duration-200 border border-white border-opacity-20",children:"Sign Up"})]})]})]})})}),l.jsxs("main",{className:"main-content",children:[!x&&l.jsx("div",{className:"bg-yellow-500 text-white px-4 py-2 mb-4 rounded-md shadow-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),l.jsx("p",{children:"You're currently offline. Changes will be saved locally and synced when you're back online."})]})}),l.jsxs(nm,{children:[l.jsx(ur,{path:"/login",element:l.jsx(ym,{setUser:a,darkMode:g})}),l.jsx(ur,{path:"/signup",element:l.jsx(vm,{setUser:a,darkMode:g})}),l.jsx(ur,{path:"/",element:i?l.jsx(Rm,{isWorkoutActive:c,setIsWorkoutActive:f,darkMode:g}):l.jsx(Yn,{to:"/login"})}),l.jsx(ur,{path:"/workout/:day",element:i?l.jsx(Dm,{darkMode:g}):l.jsx(Yn,{to:"/login"})}),l.jsx(ur,{path:"/workout/:day/exercise/:id",element:i?l.jsx(Wm,{isWorkoutActive:c,darkMode:g}):l.jsx(Yn,{to:"/login"})}),l.jsx(ur,{path:"/exercise/:id/history",element:i?l.jsx(Um,{darkMode:g}):l.jsx(Yn,{to:"/login"})}),l.jsx(ur,{path:"/settings",element:i?l.jsx(Hm,{darkMode:g,setDarkMode:k}):l.jsx(Yn,{to:"/login"})})]})]})]})})};var Bu={};const $u="production";typeof globalThis.process>"u"?globalThis.process={env:{NODE_ENV:$u}}:Bu={...Bu,NODE_ENV:$u};const Qm=dp.createRoot(document.getElementById("root"));Qm.render(l.jsx(Wu.StrictMode,{children:l.jsx(Jm,{})}));
